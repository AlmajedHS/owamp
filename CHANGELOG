2004-06-09  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owping/owping.c:
	owampd.c: re-ordered descriptor cleanup code.

	owping.c: syntax error.

	jeff

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Thought of a more simple way to close "most" of the open fd's in the
	child. This will be important when I add the partial sessions (lots more
	fd's will be in use.)

	jeff

	* /home/cvs/engdev/owamp/conf/owampd.conf:
	change the comment to reflect the new limits on portrange.

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.conf.man, /home/cvs/engdev/owamp/doc/owampd.man, /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owping/owping.c:
	*.c:
		Disallow port ranges of a single value other than 0.
		Disallow port ranges where low>high.

	doc/*:
		Document port range options.

	jeff

	* /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/errlog.h, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/errlogsyslog.h, /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	I2Util/*:
		Adding functionality to allow error logs to be "reset" after a
		process forks. Specifically added this functionality to the
		"syslog" logger.

	owampd.conf,owampd.c:
		Added portrange to owampd.
		Removed current code that closed file descriptors in child.
		Did not work correctly - can only close descriptors from other
		parent/child pipes. Will fix this another time.
		Added code to reset syslog after fork.
	endpoint.c:
		Fixed bad error format string.

	protocol.c,owampP.h:
		Fixed a bug that resulted in the server configured port
		value being lost, and not saved in the owp files with the
		rest of the TestRequest record.

2004-06-08  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	shortcutting ephemeral specification...

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	endpoint.c:
		removed assumption that "low" range of 0 means ephemeral.
		Not setting OWPTestPortRange at all means ephemeral.

	owping[P].{ch}:
		Adding -P option to allow owping to make use of OWPTestPortRange

	jeff

2004-06-07  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Added hooks to allow a port range to be specified for the test stream.

	Now I have to go to the applications (owampd/owping/owampd) and have them
	use the hooks. (and test this.)

	jeff

2004-06-04  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/owping.man: Adding just a bit more...

	jeff

	* /home/cvs/engdev/owamp/owping/owping.c: Corrected syntax errors.

	jeff

	* /home/cvs/engdev/owamp/doc/owping.man: Too many letters...

	* /home/cvs/engdev/owamp/doc/owping.man: spell checked...

	jeff

	* /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Adding general schedules.

	jeff

2004-05-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/policy.c:
	Oops - missed a few references.

	jeff

	* /home/cvs/engdev/owamp/owampd/conf.c, /home/cvs/engdev/owamp/owampd/conf.h, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owampd/policy.c:
	Removing conf file functions from owamp library. I put versions of these
	into the I2util library when bwctl was written, this allows bwctl/owamp to
	share more code.

	jeff

	* /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/powstream/powstream.c:
	Added code to allow low level client I/O to be interruptable. This will
	correct infrequent problems we have had with powstream hanging.

	jeff

2004-05-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owping/owping.c:
	Corrected a number of bugs in the AES implementation within the test packets.

	Added debugging code.

	Corrected AES encryption for the fetch-session message. (The "zero" buffer
	was being contaminated by the fact that _OWPSendBlocks encrypts back to
	the same buffer that is sent to it.)

	Cleaned up some compile messages.

	All encryption modes look like they are working correctly now.

	jeff

2004-05-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	close file descriptors in new owampd-control processes.

	jeff

2004-05-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owpingP.h, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/test/owtvec.c, /home/cvs/engdev/owamp/bootstrap, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owping/owping.c:
	bootstrap: corrected to work with later versions of autoconf.

	context.c: Added do-nothing SIGCHLD handler, NTP initialization.
	endpoint.c: Removed NTP initialization.
	time.c: Added NTP init function.
	owping.c: Cleanup, added aes passphrases, fixed aes bug.
	powstream.c: ""

	I have not tested the passphrase stuff with the server yet - but it
	seems to be working correctly.

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.conf.man, /home/cvs/engdev/owamp/doc/owampd.keys.man, /home/cvs/engdev/owamp/doc/owampd.limits.man, /home/cvs/engdev/owamp/doc/owampd.man, /home/cvs/engdev/owamp/doc/owfetch.man, /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/doc/owstats.man:
	Mostly adding comments that allow vim to assign the correct filetype - just
	makes the syntax highlighting work correctly.

	jeff

2004-05-13  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/index.html: fixed typo.

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.man, /home/cvs/engdev/owamp/doc/owping.man:
	spelling.

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.conf.man, /home/cvs/engdev/owamp/doc/owampd.limits.man, /home/cvs/engdev/owamp/doc/owfetch.man, /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/doc/owstats.man:
	Eric's comments.

	jeff

	* /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/util.c, /home/cvs/engdev/owamp/owping/owping.c:
	Modified owamp to use I2Hex functions instead of built-in.

	jeff

	* /home/cvs/engdev/owamp/doc/owfetch.man: susan edits

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.man: Susan edits.

	* /home/cvs/engdev/owamp/doc/index.html: Reset current version to 1.6d

	jeff

2004-05-12  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/index.html: Corrected bold in title.

	jeff

	* /home/cvs/engdev/owamp/doc/index.html:
	Added a link to the spec into the overview document.

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.conf.man, /home/cvs/engdev/owamp/doc/owampd.limits.man:
	Modified description of disk limits to be consistant between these files.

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.limits.man: owampd.limits.man page.

	* /home/cvs/engdev/owamp/doc/owampd.keys.man:
	Documentation on keys file.

	jeff

2004-05-11  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/details.html, /home/cvs/engdev/owamp/doc/owampd.conf.man, /home/cvs/engdev/owamp/doc/owampd.man, /home/cvs/engdev/owamp/doc/owfetch.man, /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/doc/owstats.man:
	details.html:
		Add information on allowing others access to query ntpd.

	*.man:
		Modifying encryption description.
		adding owfetch/owampd.conf

	jeff

2004-05-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/owampd.man, /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/doc/owstats.man:
	Incorporated Susan's edits.

2004-05-07  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/owampd.man: spell checked.

	jeff

	* /home/cvs/engdev/owamp/doc/owampd.man, /home/cvs/engdev/owamp/doc/owping.man:
	Modified the description of encrypted mode in owping.man

	Added a man page on owampd.

	jeff

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Added the -e option to the "usage" message.

	jeff

	* /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/doc/owstats.man:
	spell checked...

	* /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/doc/owstats.man:
	Added examples and alphabetized args in owping.man

	Created owstats.man.

	jeff

2004-05-05  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Removing the '-V' option.

	jeff

	* /home/cvs/engdev/owamp/doc/owping.man:
	first real cut at an owping(1) manual page.

	jeff

2004-05-04  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/details.html, /home/cvs/engdev/owamp/doc/index.html:
	Incorporating Susan's edits.

	jeff

2004-05-03  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/doc/details.html, /home/cvs/engdev/owamp/doc/owping.man:
	Minor changes...

	* /home/cvs/engdev/owamp/doc/details.html, /home/cvs/engdev/owamp/doc/index.html, /home/cvs/engdev/owamp/doc/owamp_arch.png, /home/cvs/engdev/owamp/doc/owamp_arch.vsd, /home/cvs/engdev/owamp/doc/owping.man, /home/cvs/engdev/owamp/owamp/protocol.c:
	owamp/protocol.c:
		Adding comments for the format of the data record in a fetch message.

	doc/*:
		Adding some documentation. Overview and details are fairly complete
		- just starting man pages. owping.man file is not ready to be
		reviewed.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Fixed bug that Ralf found. (powstream didn't work unless you used the -b
	option.)

	jeff

2004-04-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/bench/timeintervals.c, /home/cvs/engdev/owamp/bench/timesyscall.c:
	Adding two simple benchmark programs that are being used to make decisions
	about how implement the software clock in owamp.

	jeff

2004-03-24  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Adding message when sig is caught.

	jeff

2004-03-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c: syntax error.

	jeff

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owamp/endpoint.c:
	new version 1.0e

	jeff

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	Changed to use esterr again. maxerr is just way too conservative to be useful.

	jeff

	* /home/cvs/engdev/owamp/owampd/policy.c: Fix AES key policy bug.

	jeff

2004-03-04  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/doc/aespasswd.man: Susan's edits.

	jeff

2004-03-03  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/bootstrap:
	Rich, the bootstrap file I was saying you needed to change was the one in
	the top-level dir.  This one should be fine.

	jeff

2004-03-03  Rich Carlson, e2e, 630-971-8736  <rcarlson@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/bootstrap:
	changed bootstrap file for I2util per Jeff Boote comments

2004-03-03  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c:
	endpoint.c:
		Changed time error estimates to use "maxerror" instead of "esterror".

	owampd.c:
		Cleaned up logic slightly and commented a little better.
		(I did this when explaining the source to Rich.)

	jeff

2004-03-02  Rich Carlson, e2e, 630-971-8736  <rcarlson@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/config/c-attribute.m4:
	updated configure.ac to include I2UTILINC functions.  This should allow the
	NDT web100srv.c code to use the LoadConf function.

2004-02-25  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/support/mandoc.cgi: mandoc.cgi:
		calls man2html using INC path instead of using full path.

	*.html:
		removed 
's - futile....

	* /home/cvs/engdev/I2util/support/mandoc.cgi:
	Added check for redirect_url to make sure access checking has happened
	in apache. (This only works if the cgi is installed as an action handler, if
	it is a normal cgi, this extra security is impossible.

	jeff

2004-02-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/doc/aespasswd.man:
	Disabled hyphenation in url references in manpages. The hypphenation broke
	the url stuff I added to man2html to make url's links in html'd man pages.

	This all works now, but I can't install it on e2epi because the server
	feature I need is not activated. I have made a request to websupport
	for that.

	To see the man pages for now, take a look at:

	http://people.internet2.edu/~boote/bwctl.man

	jeff

	* /home/cvs/engdev/I2util/support/man2html3.0.1/CHANGES, /home/cvs/engdev/I2util/support/man2html3.0.1/COPYING, /home/cvs/engdev/I2util/support/man2html3.0.1/doc/man2html.1, /home/cvs/engdev/I2util/support/man2html3.0.1/doc/man2html.html, /home/cvs/engdev/I2util/support/man2html3.0.1/doc/man2html.ps, /home/cvs/engdev/I2util/support/man2html3.0.1/doc/man2html.txt, /home/cvs/engdev/I2util/support/man2html3.0.1/install.me, /home/cvs/engdev/I2util/support/man2html3.0.1/man2html, /home/cvs/engdev/I2util/support/man2html3.0.1/man.cgi, /home/cvs/engdev/I2util/support/man2html3.0.1/MANIFEST, /home/cvs/engdev/I2util/support/man2html3.0.1/README, /home/cvs/engdev/I2util/support/mandoc.cgi:
	Adding man conversion tools into CVS... (Actually... I'm going to move
	this down into I2util after checking in...)

	jeff

2004-02-17  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/bootstrap, /home/cvs/engdev/I2util/configure.ac, /home/cvs/engdev/I2util/doc/Makefile.am, /home/cvs/engdev/I2util/Makefile.am:
	Modified to support installing of man pages. This took an upgrade of the
	autoconf tools. Ugh.

	jeff

2004-02-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/doc/aespasswd.man:
	Spell checking, and incorporating changes based on Eric's comments.

	jeff

	* /home/cvs/engdev/I2util/doc/aespasswd.man:
	bwctld.c: modified error message.

	*.man:
		Added acknowledgments section for NSF grant disclaimer.

	jeff

2004-02-14  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/doc/aespasswd.man:
	Adding the last man pages. bwctld.limits.man is not done yet, but it is
	getting close.

	jeff

2004-02-09  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/doc/aespasswd.man:
	bwctl.c: changing so remotehost is attached to the -c/-s options

	bwctl.1: checkpoint

2004-02-08  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/doc/aespasswd.man:
	Adding manpage for aespasswd.

2004-01-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	Try again... Wasn't handling negative offsets correctly.

	jeff

	* /home/cvs/engdev/owamp/owamp/arithm64.c:
	found another place nano's can overflow...

	jeff

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	Fix a bug in the new timing code. (Forgot to check if the nsec's field was
	larger than 1 sec before passing back.)

	jeff

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	Attempt to fix the ntp offset problem.

	jeff

2004-01-14  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/test/owtvec.c:
	fix signed/unsigned compare mistake.

	jeff

2004-01-13  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac:
	incrementing revision number for hawaii tracking.

	jeff

2003-12-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/table.c:
	Hmm - things were confused. There was a length and a num_elements entry.
	fixed.

	jeff

	* /home/cvs/engdev/I2util/I2util/table.c:
	Wow - I can't believe this wasn't an issue before. (num_elements was not
	initialized in the table init code.)

	jeff

	* /home/cvs/engdev/I2util/aespasswd/aespasswd.c:
	Added a '.' prefix to the lockfile name.

	jeff

	* /home/cvs/engdev/I2util/aespasswd/aespasswd.c:
	Adding an error message if the identity is not found and the -d flag
	was specified.

	jeff

	* /home/cvs/engdev/I2util/I2util/conf.c:
	Fixed core-dump if the conf file is empty.

	jeff

	* /home/cvs/engdev/I2util/aespasswd/aespasswd.c, /home/cvs/engdev/I2util/I2util/conf.c:
	fixed bugs.

	jeff

	* /home/cvs/engdev/I2util/aespasswd/aespasswd.c, /home/cvs/engdev/I2util/configure.ac, /home/cvs/engdev/I2util/Makefile.am:
	I2util/*:
		Adding aespasswd into autoconf files.
	I2util/aespasswd/*:
		Now works on FreeBSD - need to test Linux.
	bwctl/bwctlP.h:
		Clean-up comments.

	jeff

	* /home/cvs/engdev/I2util/aespasswd/aespasswd.c, /home/cvs/engdev/I2util/aespasswd/Makefile.am, /home/cvs/engdev/I2util/I2util/conf.c, /home/cvs/engdev/I2util/I2util/conf.h:
	I2util/conf.[ch]
		Adding a WriteKeyLine function.
	I2util/aespasswd/*
		Adding an aespasswd command for managing keyfiles.
	bwctl/bwctl.c
		Making some error messages pretty.

	jeff

2003-12-18  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/conf.c, /home/cvs/engdev/I2util/I2util/readpassphrase.c:
	Now compiles on Linux.

	termios suck.

	jeff

	* /home/cvs/engdev/I2util/I2util/conf.c, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/errlogsyslog.h, /home/cvs/engdev/I2util/I2util/md5.c, /home/cvs/engdev/I2util/I2util/md5.h, /home/cvs/engdev/I2util/I2util/readpassphrase.c, /home/cvs/engdev/I2util/I2util/readpassphrase.h, /home/cvs/engdev/I2util/I2util/saddr.c:
	Fixed compile errors.

	jeff

2003-12-17  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/md5.c, /home/cvs/engdev/I2util/I2util/md5.copyright, /home/cvs/engdev/I2util/I2util/md5.h, /home/cvs/engdev/I2util/I2util/readpassphrase.c, /home/cvs/engdev/I2util/I2util/readpassphrase.h, /home/cvs/engdev/I2util/I2util/util.h, /home/cvs/engdev/I2util/I2util/conf.c, /home/cvs/engdev/I2util/I2util/conf.h, /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/errlogsyslog.h, /home/cvs/engdev/I2util/I2util/hex.c, /home/cvs/engdev/I2util/I2util/hex.h, /home/cvs/engdev/I2util/I2util/Makefile.am:
	I2util:
	Added conf file handling routines, hex encode/decode, md5, readpassphrase...

	Basically lots of things that owamp and bwctl will both use.

	Modified bwctl to use the I2util versions of these functions.

	Modified bwctl to do aeskeys with either a keyfile or a passphrase.

	Modified bwctld to do aeskeys with a keyfile.

	(These changes have not even been compiled yet since I did this on my
	laptop. I will be checking in updates to this after actually testing it.)

	jeff

2003-12-08  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/policy.c:
	Remove compiler warnings.

	jeff

2003-11-17  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/saddr.c: blah

2003-11-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/saddr.c, /home/cvs/engdev/I2util/I2util/saddr.h:
	Adding test for "loopback" to allow a test. "loopback" is implicitly
	trusted to an extent.

	jeff

2003-11-07  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/conf/Makefile.am, /home/cvs/engdev/owamp/conf/owampd.passwd, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h:
	Removed unused owampd.passwd file from owamp.

	jeff

2003-10-29  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	fixed a small bug that could happen if a child process somehow hung.

	Now the parent will handle that more gracefully. (This has not happened
	as far as I know...)

	jeff

2003-10-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/test/owtvec.c:
	byte-swap the OWPNum64 values before hex-encoding them for output.

	jeff

2003-10-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/schedule.c, /home/cvs/engdev/owamp/test/Makefile.am, /home/cvs/engdev/owamp/test/owtvec.c:
	Adding a program to generate test vectors.

	jeff

	* /home/cvs/engdev/I2util/I2util/saddr.h, /home/cvs/engdev/owamp/owampd/policy.c:
	saddr.h:	added comment

	policy.c:	fixed bug in MSGCLAIM message decoding.

	jeff

2003-10-01  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/policy.h, /home/cvs/engdev/owamp/conf/owampd.limits, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	owampd: Changed the bandwidth limit to be bits/second instead of bytes/second.

	protocol.c: Corrected possible signal problem.

	sapi.c: corrected possible error detection problem.

	jeff

2003-09-26  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	sapi.c:	modified the order of ProcessStartSession to remove a potential
		race condition.
	powstream.c:
		Added a check for interrupts to another spot to make powstream
		more responsive to interrupts during the "connect" sequence.

	jeff

2003-09-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Adding -r option to -h message.

	Corrected signal handling for OpenControl.

	jeff

2003-07-15  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac: removed unused stuff.

	jeff

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owdigest/buckets.pl, /home/cvs/engdev/owamp/owdigest/buckets.py, /home/cvs/engdev/owamp/owdigest/cookbuckets.pl, /home/cvs/engdev/owamp/owdigest/Makefile.am, /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/centralmaster.pl, /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/makecron.pl, /home/cvs/engdev/owamp/scripts/Makefile.am, /home/cvs/engdev/owamp/scripts/make_top_html.pl, /home/cvs/engdev/owamp/scripts/owampd.sh.in, /home/cvs/engdev/owamp/scripts/owdrive1.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Archive.pm, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm, /home/cvs/engdev/owamp/scripts/OWP/Makefile.am, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/OWP/RawIO.pm, /home/cvs/engdev/owamp/scripts/OWP/Syslog.pm, /home/cvs/engdev/owamp/scripts/OWP/Utils.pm, /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl, /home/cvs/engdev/owamp/scripts/powcollector, /home/cvs/engdev/owamp/scripts/powmaster.pl, /home/cvs/engdev/owamp/scripts/print_owd_header.pl, /home/cvs/engdev/owamp/scripts/testconf.pl, /home/cvs/engdev/owamp/scripts/uptimewatch.pl:
	remove digest/script stuff that is no longer used.

	jeff

	* /home/cvs/engdev/owamp/configure.ac: update to version 1.6c

	jeff

2003-07-09  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Corrected bug that caused lost records to be reported incorrectly.

	jeff

2003-06-15  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstreamP.h:
	Forgot to add element to struct.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/powstream/powstream.c:
	I think I finally figured out the strange short read. dup doesn't give you two
	underlying file pointers - so the read was repositioning the filepointer and
	then the other process would write to the file moving the file pointer up.

	fixed this by using fopen to create another reference to the file without
	using dup.

	jeff

2003-06-14  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c: more diagnostics...

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Adding fseeko to END to try and update stream to real size of file...

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c:
	Add ftello to unexpected EOF to determine how far into the file it is.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	corrected off_t to use %llu for printf statements.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c: more diag...

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Add yet more diagnostics...

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	resetting eof flag for shared stream in case the parent process reads to
	the end of the file before the session is complete.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	fixed 32/64 bit int mismatch.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c: yet mor diagnostics...

	* /home/cvs/engdev/owamp/owamp/api.c: typo.

	* /home/cvs/engdev/owamp/owamp/api.c:
	adding more diagnostics to fread failure message.

	jeff

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/owamp/powstream/powstream.c:
	I2util/table.[ch]:
		Added a HashClean function to clean out a hash table.

	powstream.c:
		Added some diagnostics to find out why fread is failing on the
		partial session file. Also modified the Hash table to be cleaned
		on error.

	jeff

2003-06-13  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h:
	Fixed max/min problem. (The problem was that I forgot to implement it. Sigh.)

	jeff

2003-05-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c: Fixed bug with -b flag.

	jeff

2003-05-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/Makefile.am, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h:
	Added an option to powstream to make it compute summary data on the fly.

	jeff

2003-05-02  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sapi.c:
	Don't set V6 sockopts unless you have a V6 socket!

	jeff

2003-04-03  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/Makefile.am:
	I thought $(RM) was standard?

	jeff

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owdrive:
	Added install of owstats/owfetch links to owping.

	removed absolete/non-functional owdrive script.

	jeff

2003-03-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/conf/owampd.limits, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/testconf.pl:
	owping:
		Added a -R "raw" output option. It just dumps records out.
		Absolutely no processing what-so-ever.

	owamp:
		Small fixes. (OWPDelay had a bug - it would never return a negative
		delay...)

	jeff

2003-03-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sapi.c:
	Make sure IPV6_V6ONLY sockopt is 0 for server sock so dual-stack will work.

	jeff

2003-03-24  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/protocol.c:
	Grr! - missing packet records are valid to write as well as read!

	jeff

2003-03-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/protocol.c:
	Ugh! Yes - a "missing packet" record is a valid record.

	jeff

2003-03-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/policy.c:
	Fixed another case where an IPv4 address was presented as a v6 "v4 mapped"
	address.

	jeff

	* /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/owampd/policy.c:
	conf/owampd.conf:
	added more comments to owampd.conf

	owampd/policy.c:
	owampd will now create the datadir if it doesn't already exist.

	jeff

	* /home/cvs/engdev/owamp/conf/owampd.limits:
	Added comments to explain the "assign" lines in the limits file.

	jeff

	* /home/cvs/engdev/I2util/I2util/io.c, /home/cvs/engdev/I2util/I2util/io.h, /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/saddr.c, /home/cvs/engdev/I2util/I2util/saddr.h, /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/owamp/conf/Makefile.am, /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/conf/owampd.limits, /home/cvs/engdev/owamp/conf/owampd.passwd, /home/cvs/engdev/owamp/etc/class2limits.conf, /home/cvs/engdev/owamp/etc/ip2class.conf, /home/cvs/engdev/owamp/etc/owampd.conf, /home/cvs/engdev/owamp/etc/owampd.passwd, /home/cvs/engdev/owamp/etc/passwd.conf, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/conf.c, /home/cvs/engdev/owamp/owampd/conf.h, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/print.c, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/read_class2limits.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/schedule.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owamp/util.c, /home/cvs/engdev/owamp/owdigest/Makefile.am, /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h, /home/cvs/engdev/owamp/powstream/Makefile.am, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/Makefile.am, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm, /home/cvs/engdev/owamp/scripts/OWP/Makefile.am, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/I2util/Makefile.am, /home/cvs/engdev/owamp/bootstrap, /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/INSTALL, /home/cvs/engdev/owamp/LICENSE, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/README:
	Merging VERS5 into head. Wahoo!!!

	jeff

2003-03-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/saddr.h:
	fix bug. - I like descriptive comments.

	jeff

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/I2util/I2util/saddr.c, /home/cvs/engdev/I2util/I2util/saddr.h:
	Fixed annoying addr-check problems.

	jeff

	* /home/cvs/engdev/I2util/I2util/saddr.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Grr - V6/V4 duel-stack is more troublesome then one might think at first...

	Policy issues are much more difficult to deal with when trying to use
	address matching - since addresses of v4 can be encoded within v6.

	(If I'm not mistaken, I *may* have the opposite problem with v4 compatible
	v6 addresses - but I'm not even going to look at that for now.)

	jeff

2003-03-18  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/conf/owampd.limits:
	checkpoint - fixes to policy and signal handling.

	(doesn't quite work at the moment. I'm having a hard time comparing V6 addresses
	that are actually V4MAPPED addresses. I need to do this because of section 7
	of the spec...) sigh.

	jeff

2003-03-17  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c:
	Just fixed compile errors from laptop code changes.

	Now I'm ready to start testing. (will test on aami nodes after lunch.)

	jeff

2003-03-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	check-point. (This may not even completely compile - I edited a bunch on
	my laptop... I will test it on monday.)

	jeff

2003-03-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/conf/owampd.limits:
	Did some limited testing... Fixed a few dumb bugs.

	I was at least able to get a few test sessions running.

	jeff

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/I2util/I2util/io.c, /home/cvs/engdev/I2util/I2util/io.h, /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/owamp/api.c:
	Added signal handling into owampd... This was much more complicated than
	I expected. (On retrospect, I should have known better.) I had to modify
	the low-level i/o routines to return on interrupts iff I wanted them to.
	This touched LOTS of the other code. I have not been able to test it yet.

	jeff

2003-03-08  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h:
	Ok - I *believe* I have all policy done with the exception of writing
	a pass-phrase to aeskey hook for owping. I believe owampd policy is complete.

	Items to complete before Beta-release:
	* pass-phrase aeskey in owping
	* signal handling for owampd. (HUP/TERM catching)

	* LOTS of testing...
	* documentation, documentation, documentation...

	jeff

2003-03-07  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/conf/owampd.limits, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h:
	check-point.

	jeff

	* /home/cvs/engdev/owamp/conf/owampd.limits, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h:
	check-point - fixed some run-time bugs and added comments for owampd.limits
	 file.

	* /home/cvs/engdev/owamp/conf/owampd.limits: New file.

2003-03-06  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/saddr.c, /home/cvs/engdev/I2util/I2util/saddr.h, /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/print.c, /home/cvs/engdev/owamp/owamp/read_class2limits.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/powstream/powstream.c:
	I2Util:
	saddr.*
		moved some #includes from the .c to the .h so sockaddr_t would be
		defined for the args to the saddr function prototype.

	table.c
		corrected a "break" to the iterate loop. (I recently modified this
		function to allow "deletes" to occur during an iteration - but forgot
		to break out of this loop instead of returning, so some cleanup
		work was not happening if the iteration was terminated early.

	owamp:
		added the TestComplete policy hook function. This was needed to
		release resources upon the completion of a test.
		(policy sucks)
		Policy also required changes to the CloseFile hook so differences
		in real filesize from the resource request could be accounted for.
		(It is necessary to do this so that delete_on_fetch can delete
		files and release the resources from the global state. If this
		accounting wasn't done - delete_on_fetch would be freeing the resource
		based on the real filesize - but the accounting would be based upon
		the original request. This would eventually cause test sessions to
		be denied when there is actually space.)

		moved all "default" policy functions over to owampd where they
		belong. (I will need to add a policy function into owping to allow
		a pass-phrase generated aeskey.)

	owampd:
		Added lots of policy. (The are more lines of policy code, than original
		owampd code. Ugh.)

		The current state is that messages are happening between the parent
		resource broker, and the actual child processes that are handling
		the requests - and the datastructures are in place for the resource
		broker to keep track. But - the actual accounting is not happening
		yet. I don't expect this to take more than an hour or two more to
		add. I also still need to add the code to initialize the disk-usage
		accounting. This is a little more tricky, although I believe I can
		use du.c code from FreeBSD as an example.

	jeff

2003-02-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/conf.c, /home/cvs/engdev/owamp/owampd/conf.h, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/policy.c, /home/cvs/engdev/owamp/owamp/policy.h, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c:
	checkpoint - mostly compiles. (everything but powstream.)

	Almost have global policy done in owampd.

	jeff

	* /home/cvs/engdev/owamp/owampd/conf.c, /home/cvs/engdev/owamp/owampd/conf.h, /home/cvs/engdev/owamp/owampd/policy.c, /home/cvs/engdev/owamp/owampd/policy.h:
	New file.

2003-02-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/policy.c, /home/cvs/engdev/owamp/owamp/policy.h, /home/cvs/engdev/owamp/owamp/read_class2limits.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/I2util/I2util/table.h:
	checkpoint - will not completely compile right now.

	jeff

2003-02-18  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Corrected OWPNum arithmatic.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c: style changes...

	jeff

	* /home/cvs/engdev/owamp/LICENSE, /home/cvs/engdev/owamp/scripts/Makefile.am:
	Adding license file. minor fix for scripts Makefile.

	jeff

	* /home/cvs/engdev/owamp/LICENSE: New file.

2003-02-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/INSTALL, /home/cvs/engdev/owamp/README:
	Add a bit more text...

	jeff

2003-02-07  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/Makefile.am, /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am:
	prepare alpha

	* /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/Makefile.am:
	prepare for alpha.

	jeff

	* /home/cvs/engdev/owamp/conf/Makefile.am, /home/cvs/engdev/owamp/INSTALL:
	New file.

	* /home/cvs/engdev/owamp/conf/Makefile.am, /home/cvs/engdev/owamp/INSTALL:
	preparing for alpha.

	jeff

	* /home/cvs/engdev/owamp/etc/class2limits.conf, /home/cvs/engdev/owamp/etc/ip2class.conf, /home/cvs/engdev/owamp/etc/owampd.conf, /home/cvs/engdev/owamp/etc/owampd.passwd, /home/cvs/engdev/owamp/etc/passwd.conf:
	preparing for release.

	jeff

	* /home/cvs/engdev/owamp/conf/class2limits.conf, /home/cvs/engdev/owamp/conf/ip2class.conf, /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/conf/owampd.passwd, /home/cvs/engdev/owamp/conf/passwd.conf:
	New file.

	* /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/Makefile.am, /home/cvs/engdev/owamp/bootstrap, /home/cvs/engdev/owamp/conf/class2limits.conf, /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/conf/ip2class.conf, /home/cvs/engdev/owamp/conf/owampd.conf, /home/cvs/engdev/owamp/conf/owampd.passwd, /home/cvs/engdev/owamp/conf/passwd.conf, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/README, /home/cvs/engdev/owamp/scripts/Makefile.am, /home/cvs/engdev/owamp/scripts/OWP/Makefile.am:
	Preparing for Alpha release.

	jeff

2003-02-05  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac: Try using RCS version string...

	jeff

2003-02-03  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP.pm:
	Corrected umask decimal/octal - quote bug.

	jeff

2003-01-29  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c:
	Linux fixes...

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm, /home/cvs/engdev/owamp/owamp/endpoint.c:
	endpoint.c:
		comment the "fudge" factor a bit better.

	owping.c:
		comment start_time estimate better.

	scripts/*:
		modified owd file readers to understand version 1 AND 2 files.

	jeff

	* /home/cvs/engdev/owamp/owping/owping.c:
	Oops - debug stuff was checked in before.

	jeff

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm, /home/cvs/engdev/owamp/Makefile.am:
	table.[ch]:
		Modified so hash datarecords (I2Binding) are pre-allocated for the
		most part. This was needed to more efficiently implement the lost packet
		buffering in the owamp reciever.

	owamp/*:
		Renamed OWPCvt functions to adhere to other naming schemes.

		BIG CHANGE:
			Removed the schedule arrays. They are now completely
			computed on the fly.

	owdigest:
		Modified it to use a double to save the "err".

		ported different context record model.

	scripts:
		Modified to read owd files with "double" format precision in the
		header for "err". (not yet tested.)

2003-01-26  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/schedule.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h:
	renamed OWPnum64 to OWPNum64 so it complies with the naming scheme.

	removed all precomputed schedule generation from everywhere with the
	exception of the receiver code itself. So... only the hard part is left. :)

	This really isn't too bad with the exception of the fact that the logic
	for determining the end of the test needs to be reworked again. And... if
	we want to maintain the buffering that we have tried to setup, it means I
	will need to update the "itimer" throughout the test so I ensure that the
	process wakes up periodically to output lost packets even if no packets are
	received in the meantime to wake the process up. I believe I have this
	worked out in my head fairly well at this point, so it should just take
	a few hours of coding.

2003-01-24  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/schedule.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/etc/owampd.conf, /home/cvs/engdev/owamp/owamp/access.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/policy.c, /home/cvs/engdev/owamp/owamp/policy.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	I2util/table.c:
		corrected memory error. (was still free'ing something I intended
		only to mark as ready to be deleted.)

	access.*:
		Made new type records names that agree with the rest of the code.
		None of the access stuff is actually being compiled in yet. And
		won't be until after Jt Techs.

	policy.*:
		Made hooks for all the new policy functions. OpenFile/CloseFile
		and childwait stuff is all working now.
		owfetch even works now! :)

	owamp/(the rest):
		Fixed lots of small bugs. Mostly of the data-initialization type.

2003-01-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/etc/owampd.conf, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owdigest/Makefile.am, /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/powstream/Makefile.am:
	Ok - all apps now compile with the exception of owdigest. (Not sure what to
	do about "prec" in that one yet so I'm going to think on it before going
	after that one.)

	However... Nothing really works yet. There are many problems I still need
	to debug. At the moment TestSessionAccept messages are not going accross
	the wire properly, and I'm sure there are more problems. I even found a place
	I had forgotten to byte-swap the port numbers. The only reason this worked
	in the last version is that I forgot on both the client and server, and
	I guess we never tested between big-endien/little-endien systems. (ugh.)

	I have now added a --with-efence option to configure to make it easier to
	link with libefence to debug memory problems.

	jeff

2003-01-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/policy.c, /home/cvs/engdev/owamp/owamp/schedule.c, /home/cvs/engdev/owamp/owamp/time.c:
	put OWPNum64Mult back in, and searched for all OWPnum64 arithmatic.

	(Rewrote OWPNum64Add as a macro.)

	Made the schedule/random64 number generator update the counter for every
	random number fetch, and only call AES every forth time as it was in the
	past.

	Corrected the OWPDefClosefile function so it removes the file_info state
	record from the cntrl hash. (This would have caused a memory leak.)

	The OWPDefOpenFile and OWPDefCloseFile functions are extremely simple for now,
	in the future they will be used to implement the del_on_fetch/del_on_close
	functionality. (They do understand the pathnames and this is the way I
	removed the conndata structure.)

	jeff

2003-01-21  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/exp-spec.txt:
	An extensive rewrite. Attempted to incorporate Jeff's remarks on the
	first draft.

2003-01-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owamp/defaults.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/policy.c, /home/cvs/engdev/owamp/owamp/policy.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/schedule.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h:
	Lots of cleanup. Lots of fixed "features". The policy functionality is
	pretty well hashed out - although I have not fixed the code in access*.[ch]
	to work correctly yet.

	I have started to remove the dependence on the pre-computed schedule. powstream
	no longer depends upon this. However, the endpoint sender/receiver code
	has not been modified yet.

	powstream currently compiles but owampd/owping do not.

	Tomorrow I will work on getting owampd/owping working with all the current
	changes. And once that works, I will work on removing the pre-computed
	schedules.

	jeff

	* /home/cvs/engdev/owamp/owamp/policy.c, /home/cvs/engdev/owamp/owamp/policy.h, /home/cvs/engdev/owamp/owamp/schedule.c:
	New file.

2003-01-14  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/Makefile.am:
	libowamp.a finally compiles - none of the apps do yet, so obviously this
	has not been tested yet. And I have a bit more work to do in endpoint.c
	to clean up. And that is before modifying it to compute the schedule on
	the fly.

	jeff

2003-01-12  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/read_class2limits.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/util.c, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owamp/defaults.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h:
	Cleaned up the policy interface. However, the actual policy functions need
	a lot of work to clean them up. Especially since I modified the I2util library
	hash functions. For now I have just disabled all policy stuff. The hook
	functions are still in defaults.c - I have added defaults.h to declare them.

	The only thing left to re-enable this as a working version (minus policy) is
	to complete the changes in endpoint.c to fix the udp protocol and to make
	it use the new interface for opening files/and or getting path names.

	Then the app codes will need to be modified as well. (still close to a week
	of work I would estimate.)

	jeff

	* /home/cvs/engdev/owamp/owamp/defaults.h: New file.

2003-01-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h:
	random.c: simplified.

	table.*: Changed datum to a non-pointer type. The way this was setup it
		was almost impossible not to have memory problems.

	owamp/*: All the control protocol functions should now be upgraded to
		v5 - although the complete library does not complile yet, and the
		apps need to be changed still too.

	jeff

2003-01-04  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h:
	This is a couple of days work toward v5 compliance. It doesn't even currently
	compile all the way, but there is getting to be way too many changes for
	me to feel comfortable without checking in.

	Therefore, I'm putting this in a new branch of development I'm calling
	VERS5.

	Tolya - if you want to see what I've been doing, you will need to use
	the co/update -r flag to see this branch.

	(You can also just see the differences using "cvs diff -r HEAD -r VERS5" or
	something along those lines... I have not used that in a while.)

	jeff

2003-01-02  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/print_owd_header.pl: Initial import.

2002-12-23  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/owdigest.c:
	In last check in I accidentally removed code which was skipping
	records with bad precision. This resulted in these records ruining
	declared precsion of the plots. Putting the deleted code back in now.

2002-12-20  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	Call owdigest with syslog reporting.

	* /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Added syslog support. Issue a warning if the count of 'sent'
	records in a session is 0, and provide the highest number
	of precision bits in a session for diagnostics.

2002-12-09  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/exp-spec.txt:
	First cut at the exponential RNG part of the spec.

	* /home/cvs/engdev/owamp/exp-vector/boxes-ref.dat, /home/cvs/engdev/owamp/exp-vector/Makefile, /home/cvs/engdev/owamp/exp-vector/rijndael-alg-ref.c, /home/cvs/engdev/owamp/exp-vector/rijndael-alg-ref.h, /home/cvs/engdev/owamp/exp-vector/rijndael-api-ref.c, /home/cvs/engdev/owamp/exp-vector/rijndael-api-ref.h, /home/cvs/engdev/owamp/exp-vector/table.128, /home/cvs/engdev/owamp/exp-vector/table.192, /home/cvs/engdev/owamp/exp-vector/table.256, /home/cvs/engdev/owamp/exp-vector/vector.c:
	Program 'vector' computes a million members of the
	exponential sequence with a fixed seed, and prints out
	the last one.  It can be used by future implementors of
	OWAMP to verify correctness of the exponential RNG.

2002-11-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/powmaster.pl:
	copying ugly but effective hack from collector that removes the dependence on
	a working sigsuspend function.

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	kill's don't seem to be reliably delivered. This change will ensure delivery.

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	improve error detection in perl evals of "kill".

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	kill's now happen inside eval to ensure they are "caught" in the perl way...

	jeff

2002-11-27  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sapi.c:
	Oops - accidentily checked in a debugging error message yesterday.

	jeff

2002-11-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl: Fix -T error.

	jeff

2002-11-27  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Digest.pm:
	Added debug checks for merge.

2002-11-26  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Adding check for sa_len. FreeBSD getaddrinfo/getnameinfo functions don't work
	properly if you don't set this value, even though it is a non-standard
	sockaddr member. Sigh.

	(This *might* be the cause of the "bind" errors, but I'm not sure yet.)

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	added gai error messages.

	jeff

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/I2util/saddr.c, /home/cvs/engdev/I2util/I2util/saddr.h, /home/cvs/engdev/I2util/I2util/util.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Adding more detailed error reporting - removing "connect" of recv udp socket.
	Added socket compare function into I2Util.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/protocol.c:
	Corrected error reporting...

	jeff

	* /home/cvs/engdev/owamp/owamp/protocol.c: Improve error reporting.

	jeff

2002-11-19  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/Makefile.am: Undo the last change.

	* /home/cvs/engdev/owamp/scripts/Makefile.am:
	Fix to have owmesh.conf installed.

2002-11-18  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Fixed warnings due to use strict

2002-11-17  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf:
	Added timeout value of 10 sec for flock

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Fixed a bug in computing summary period.

2002-11-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Eliminated bulky Math::BigInt ops from time calculations.

2002-11-12  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm:
	Switch to double float to represent min delay in seconds
	rather than play cast games with signed int's.

2002-11-11  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Digest.pm:
	Fixed the bucket scheme (scary stuff - I am going to make sure
	that the scheme is consistent across varios scripts/modules
	to prevent this from happening again)

2002-11-10  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm:
	More little fixes.

2002-11-09  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Another negative-realated bug fixed.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm:
	Fixed bug with negative min.

	* /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Fixed bug with negative min delays.

2002-11-08  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Added archiving png files, and error bounds for plot legends.

	* /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Added proper error values into digest files.

2002-11-08  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/powcollector:
	need to put this somewhere else - but I'm putting it here for now.

	jeff

	* /home/cvs/engdev/owamp/scripts/OWP.pm:
	pid files need to be opened "trunc".

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	scripts should exit with 0 exit status if they succeeded in sending sigs.

	jeff

2002-11-08  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Now it will even compile back on freebsd...

2002-11-08  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/owamp.h:
	fix for linux fseeko brain-damage...

	jeff

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/print.c, /home/cvs/engdev/owamp/owamp/read_class2limits.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owdigest/config.h.in, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/powstream/powstream.c:
	Port back to linux again... Ugh, you wouldn't think you would have to touch
	so many files.

	jeff

2002-11-07  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c:
	Fixed a bug in how syslog.h was included.

	jeff

	* /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Corrected print->warn statement.

	jeff

2002-11-07  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/make_top_html.pl: Fixed a typo

2002-11-07  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Added setuid capabilities. The scripts will refuse to run as root. They
	will set their permissions to another uid if UserName is set in the config
	file.

	Also added the -h/-k flags. -h will send HUP to an existing powmaster/collector
	and -k will send TERM. This will make rc scripts trivial. The only things
	needed in the rc script are the config file and the path to the executable.

	jeff

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	owmesh.conf:
		Adding UserName/GroupName. I'm using these to setuid the
		powmaster/collector scripts. Although that didn't make this check-in.

	powmaster.pl:
		Adding -e option to call of powstream to set syslog facility.

	jeff

	* /home/cvs/engdev/owamp/etc/owampd.conf: Example owampd.conf.

	Don't expect this to work for you... You will need to edit it.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h:
	Added syslog facility option.

	Added -r (LOG_PERROR) option too.

	jeff

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h:
	Added setuid functionality.

	Added syslog facility option.

	Added a config file.

	Hmm. sounds so simple when you put it that way.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/io.c:
	api.c:
		Added sigaction to ignore SIGPIPE to ContextInitialize().

	endpoint.c:
		Modified error messages to put a space after the ':' as per
		one of Stas's rare bugs.

		modified send->sendto so that ICMP errors can not disconnect our
		sockect.

		Explicitly added an ignore of SIGPIPE for the child procs.

		Better error handling in EndpointInitHook - actually kills of
		child proc if necessary.

	io.c:
		Removed redundant I2Readn/I2Writen functions. These are in the
		I2Util library and should NOT be here.

		Corrected ReceiveBlocks function to handle short reads.

	jeff

2002-11-06  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Fixed errors that occured during failure conditions. i.e. If the endpoint
	can't Initialize, the control socket should not be closed!

	jeff

2002-11-05  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/owmesh.conf: Added conf var:

	# Multiplier to represent "infinite delay" relative to the largest
	# non-infinite value
	INF_DELAY_MULT  1.1

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Added proper plotting of "infinities".

2002-11-05  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/config/c-syslog-names.m4, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/errlogsyslog.h, /home/cvs/engdev/I2util/configure.ac:
	Added functionality to specify syslog facilities/priorities by name.

	jeff

2002-11-05  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Keep significant digits in min for plotting.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Changed fine region bucket width down to 0.01ms

2002-11-04  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl: Fixed 24-hour plots.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Treat lost packets as having "infinite" delay for percentile
	calculations.

2002-11-02  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/owmesh.conf:
	Changed tick labels on 30-sce res

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Added locking to datafile being plotted.

2002-11-01  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl: Fixed use of syslog.

	* /home/cvs/engdev/owamp/scripts/make_top_html.pl: Fixed tiny bug

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/make_top_html.pl, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl:
	Misc fixes and improvements.

	* /home/cvs/engdev/owamp/scripts/makecron.pl:
	Incorporate make_top_html.pl into crontab

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Optimized percentile calculation.

	* /home/cvs/engdev/owamp/scripts/make_top_html.pl:
	Added vertical space betweeb tables.

2002-10-31  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/make_top_html.pl:
	Fixed to properly interact with buckets2stats

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Cleaned up debugging remains

	* /home/cvs/engdev/owamp/scripts/owmesh.conf:
	Add SUMMARY_PERIOD var (currently at 300)

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Prepare the summary file by computing medians and loss over the last
	SUMMARY_PERIOD (new conf var) and choosing the worst.

2002-10-31  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/collector.pl:
	buckets2stats.pl: oops syntax error in my print->warn change.

	collector.pl: modified verbose output.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	buckets2stats.pl: just changed some print messages to warn's so they go to
	syslog.

	collector.pl: added a verbose warn message.

	Conf.pm: added an Achive var.

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	Adding verbose message for VALIDTIMES update.

	jeff

2002-10-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Cosmetic clean-up before substantial changes.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl: Forgot OWP::Syslog

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Added syslog reporting.

	* /home/cvs/engdev/owamp/scripts/OWP/Utils.pm, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	Remove use Posix

2002-10-30  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Added better error messages for a closed socket.

	jeff

	* /home/cvs/engdev/owamp/scripts/powmaster.pl: Added $verbose messages.

	jeff

2002-10-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/makecron.pl:
	Redirect stdout and stderr to /dev/null

2002-10-30  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Added missing address for udp uptime sends to central host.

	jeff

2002-10-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Fixed perl path and closed GNUPLOT handle explicitly.

2002-10-29  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/makecron.pl, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	modified collector/powmaster to use node names for dir names.

	jeff

2002-10-29  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Corrected some timing bugs.

2002-10-29  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	remove extra dirs from building - send/recv identical should not happen.

	jeff

	* /home/cvs/engdev/owamp/scripts/powmaster.pl: fix syntax error. ugh.

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	Removed commented out code.

	jeff

	* /home/cvs/engdev/owamp/scripts/powmaster.pl:
	fix uninitialized var - only happened if you DON't set -n...

	jeff

2002-10-29  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	I have had the distinct misfortoune if discovering that SIGCHLD can
	be received during a kill call for that child, even if sigprocmask
	has SIGCHLD blocked...

	jeff

2002-10-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c: owampd now uses syslog.

	jeff

2002-10-28  owamp  <owamp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	Fix DEFS and removed ref to CentralUploadDir.

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/OWP/Makefile.am:
	Linux/upgraded perl fixes.

	jeff

2002-10-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/OWP/Syslog.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Modified collector/powmaster to be daemons unless Debug is set in the
	config file, or -f is passed on the command line. (-f: foreground)

	Modified the reentrant fix from before so that it is fixed in
	Syslog.pm itself. This is better since it is more self-containted,
	and it actually works. The other fix didn't. Ugh.

	jeff

2002-10-26  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	forget to protect one of the sub-proc sig handlers.

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	FINALLY FIGURED OUT THE DAMN SIGNAL PROBLEM!!!!!

	Because "die" is tied to syslog - die has become nonreentrant. I have added
	a semaphore to the signal handlers to compensate.

	jeff

2002-10-25  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/OWP/Digest.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Reworked the sig stuff yet again... It is "a little" more simple now.

	powmaster now sends a HUP to powstream's that need to reinitialize their test
	due to another node restarting.

	powstream.c had a bug in that it didn't properly check the "status" of all
	the recv children.

	jeff

2002-10-25  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm: Minor fix

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/Makefile.am, /home/cvs/engdev/owamp/scripts/owampd.sh.in:
	Updated change to OwampdVarDir

	* /home/cvs/engdev/owamp/scripts/OWP/Makefile.am:
	Added missing OWP/\*.pm files

	* /home/cvs/engdev/owamp/scripts/Makefile.am, /home/cvs/engdev/owamp/scripts/OWP/Makefile.am:
	Added OWP/Makefile support

	* /home/cvs/engdev/owamp/configure.ac: Added scripts/OWP/Makefile

	* /home/cvs/engdev/owamp/scripts/Makefile.am:
	Set up scripts to be install along with owamp binaries.

2002-10-24  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Fixed a problem with send/recv children being zombied.

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Full functionality seems to be working now. valid_time files are being
	updated and everything.

	The only thing I think might be useful to add now would be to make these
	scripts be daemons, and write to a pid file so rc scripts can access them
	more easily.

	(I'm going to sleep in tomorrow, but then I would like to try and install
	using the owamp user-id, and see how it goes.)

	jeff

	OWP.pm:
		corrected bug in validsessions function - 0 length array was
		messing things up.
	collector.pl:
		Removed GDBM_File and replaced with DB_File. This allows
		locking to work correctly. GDBM_File was giving me fits - this
		may have actually been part of my signal problems before.
	owmesh.conf:
		replace gdbm with db in file extensions.
	powmaster.pl:
		Removed GDBM_File.

	* /home/cvs/engdev/owamp/scripts/OWP/RawIO.pm, /home/cvs/engdev/owamp/scripts/OWP/Syslog.pm, /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/nodemaster.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	OWP.pm:
		fixed logic of valid_session to not delete the last "uptime" pair.

	collector.pl:
		LOTS of additions for uptimewatch capability.
		(doesn't yet delete files - but it does update per/dir database.)
		LOTS of changes to enhance signal support.

	owmesh.conf:
		addition of udpmessage length.

	powmaster.pl:
		added syslog support
		enhanced signal support

	RawIO.pm:
		simplified signal support.

	Syslog.pm:
		removed duplicate printing to stderr.
		added initial syslog opened message...

	jeff

2002-10-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/make_top_html.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl:
	Clean-up of html and gnuplot code

2002-10-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/livenotify.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Archive.pm, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	I moved the live_update functionality into the powmaster script. I think it
	will make things much easier if there is just the two applications to run
	directly on the node... owampd and powmaster.

	jeff

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Modified format of owampd.info file to contain both the pid and the
	starttime. This way scripts can be sure the starttime is for the given
	pid - owampd creates the file with an atomic "rename" operation.

	The previous method introduced a race condition.

	jeff

2002-10-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	Better error message for closed socket.

	jeff

2002-10-18  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am:
	Added support for scripts directory Makefile

	* /home/cvs/engdev/owamp/scripts/Makefile.am, /home/cvs/engdev/owamp/scripts/owampd.sh.in:
	Initial import.

	owampd.sh.in is used as a template for owampd.sh script - to
	be placed in /usr/local/etc/rc.d

2002-10-18  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	Oops. Forgot to delete the session file after archiving and digesting.

	(My filesystem was getting very large... I've been running this most of
	the day.)

	jeff

	* /home/cvs/engdev/owamp/scripts/collector.pl, /home/cvs/engdev/owamp/scripts/livenotify.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Archive.pm, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/OWP/RawIO.pm, /home/cvs/engdev/owamp/scripts/OWP/Utils.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	powmaster -> collector file transfers seem to be working.
	collector digesting also seems to be working.

	Still need to add "validation" to data using uptimewatch. (uptimewatch doesn't currently use the same setup as
	collector, so it needs to be modified.)

	jeff

2002-10-17  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/uptimewatch.pl:
	Check-point - still need to work out how to initialize $conf
	(specify NODE).

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm: Added SEPARATOR conf var.

	* /home/cvs/engdev/owamp/scripts/livenotify.pl:
	Improved robustness. Factored out repeated code (fetching starttime/pid).

2002-10-17  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/powmaster.pl:
	Only checking in for the example on setting the "NODE" - doesn't work right
	 now...

	jeff

2002-10-17  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Minor cosmetic fixes.

	* /home/cvs/engdev/owamp/scripts/uptimewatch.pl:
	Fix split to parse messages properly.

	* /home/cvs/engdev/owamp/scripts/OWP/Digest.pm: Initial import.

	# This sub merges digest files @files into a new digest file $newname.
	sub merge {
		my ($newname, @files) = @_;
	...
	}

2002-10-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed losThre default to be 10

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Converted command-line options to match the style of owping.

	* /home/cvs/engdev/owamp/scripts/makecron.pl: Initial commit.

	# This script creates crontab file to run buckets2stats.pl at the right
	# frequencies. Default name for the output file is "crontab".

	# usage: makecron.pl [crontab_out_file]

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/OWP/Utils.pm:
	Fixed inconsistent sub names.

2002-10-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Removed autoscaling of x-axis

	* /home/cvs/engdev/owamp/scripts/make_top_html.pl:
	Changed code so as to make it easy to color links as needed.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/make_top_html.pl, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl:
	Revamped the whole graph-plotting part. Added PLOT_FMT variable
	to owmesh.conf to control time units in plot titles.

2002-10-11  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/collector.pl:
	check-point of collector script.


	jeff

2002-10-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/OWP/RawIO.pm, /home/cvs/engdev/owamp/scripts/OWP/Syslog.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	checkpointing mostly... long weekend.

	endpoint.c:	removed some debugging print statements to fix some
			of Stas's "rare bugs".

	owamp.h:	changed the default port.

	all the scripts...
		Added stuff that isn't complete yet...

	jeff

2002-10-09  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/buckets2stats.pl, /home/cvs/engdev/owamp/scripts/make_top_html.pl, /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl:
	Constructing plots of (min, median, 90th percentile) and
	basic web-pages for every link in the mesh.

	* /home/cvs/engdev/owamp/scripts/owmesh.conf:
	Added PLOT_PERIOD_NAME attribute to be used in graph titles.

2002-10-09  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Syslog.pm:
	Fixed small bug in the __DIE__ handler... Need to call die instead of
	returning from it.

	jeff

	* /home/cvs/engdev/owamp/scripts/OWP/Syslog.pm:
	Added a module to allow you to tie a fh to syslog. Also allows you to send
	die/warn messages to syslog as well. It is based upon Tie::Syslog but
	there were a few changes I needed to make to use it. (The die/warn
	handle mechanism only worked for STDERR.)  I also modified the arg parsing
	to use named args.)

	jeff

2002-10-08  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/owmesh.conf:
	Added CentralWWWDir attribute

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Cleaned up to make use of the new path functions.

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl:
	Add auxiliary functions for quick construction of key paths
	from conf variables.

	* /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl:
	Tiny - forgot to add usage.

	* /home/cvs/engdev/owamp/scripts/pairs_pages_init.pl:
	Initial import. Builds directories and constructs some small
	pages (these are already properly linked in from the top page)

	* /home/cvs/engdev/owamp/scripts/make_top_html.pl:
	Construct tables with proper relative links (currently using
	just median, will add more stats)

2002-10-07  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/make_top_html.pl:
	Got working template for contruction of the top level html page.

2002-10-05  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	owamp/capi.c:
		Fixed a bug. Error condition was reported fatal, when it should
		have been able to continue. (It wasn't looping through all possible
		addrinfo structs to find a match because of this. It was failing
		on the first bad one.)

	powmaster.pl:
		Better signal handling.
		fixed a bug (array passed in first value instead of array ref
			for the mkpath command.)
		fixed another bug... Needed to "dup" the write side of the pipe
			to ensure all powstreams can write to it.
	Conf.pm:
		Removed DEBUG/VERBOSE from the defaults. (undef should be the default
		value - putting them here made 0 the default...)

	jeff

	* /home/cvs/engdev/owamp/scripts/OWP/Utils.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	powmaster.pl:
		manages powstream ok now - has a send_data process that is event
		driven. (It wakes up whenever there is more data to be sent to
		the central-server.)

	jeff

2002-10-04  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/livenotify.pl:
	Cleaned up and plugged in all conf variables.

2002-10-04  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/powmaster.pl:
	powstream:
		Added -p option: causes it to print the filenames it creates
		on stdout.
	owmesh.conf:
		Added DevNull
	Conf.pm:
		Fixed undefined var problem.
	powmaster.pl:
		Script to "manage" all powstream receivers on a node.

	jeff

2002-10-04  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP.pm: Added OWP::Utils.pm

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	At this point the script is geared towards being called
	from crontab still (this may change).

	# This script accepts a resolution, fetches look-back period,
	# and constructs plots for all node pairs. The resolution itself
	# and its associated attributes MUST be defined in the config
	# file so that they can be fetched. Resulting plots are placed
	# under $conf->{'CENTRALWWWDIR'}

	# usage: buckets2stats.pl <resolution>

2002-10-03  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	Added env var and homedir parsing for the "path" config options.

	jeff

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/testconf.pl:
	owmesh.conf:
		Added vars needed by powmaster.pl

	testconf.pl:
		Added test of must_get_val method.
	Conf.pm:
		Changed how values are returned. More use of perl references to
		avoid copying data until needed.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/scripts/owmesh.conf:
	powsteam: added powstream specific cmdline args to usage().

	owmesh.conf: Oops - I had commented something out in the pervious version
			that was needed.

	jeff

	* /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	Tolya - I reset a bunch of the parameters to more "global" defaults. If
	you want them to keep their current values for you, you need to start
	using the OWPCONF env var to set another config file that will be read
	after the default one. (Let me know if you want to see mine to give
	you an idea of what I mean.)

	Also - take a look at the new must_get_val method for Conf  - it will
	automatically die and report an error if the ATTR can't be retrieved.

	powstream:
		Made the "real" session file use tempfile functionality to
		create filenames. (This makes debugging easier if I remove the
		unlink temporarily.)
	owmesh.conf:
		Made many of the config params closer to what they will "really" be.
	Conf.pm:
		Added a "must_get_val" method that "die's" if the ATTR can't
		be retrieved.

	* /home/cvs/engdev/owamp/design/decisions, /home/cvs/engdev/owamp/README:
	Added descriptions in README for a few directories.

	decisions:
		Removed decisions we later changed our minds on.

	jeff

2002-10-02  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Minor fix - will figure out proper sub exporting from OWP::Utils later
	but this works for now (explicitly calling a sub by full name)

	* /home/cvs/engdev/owamp/scripts/OWP/Utils.pm: Initial import.

	Separated out some common code using Math::BigInt.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl:
	Graphing is basically done. Usage now is:

	buckets2stats.pl <dirname> <age_in_hours>

	so calling the script on the right directory should do the trick
	(assuming we do keep different resolutions in separate directories).

	Little details may still need some ironing out but main
	functionality seems to be there.

	* /home/cvs/engdev/owamp/scripts/buckets2stats.pl: Initial import.

	# Read bucket count files, construct time series stats and plot them.
	# usage: buckets2stats.pl <dirname> <age_in_hours>

	Currently constructs gnuplot data file but doesn't plot it yet -
	need to figure out a decent way to do x-axis ticks.

2002-10-02  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	fixed get_val to tr/a-z/A-Z all ATTR values.

	jeff

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/testconf.pl:
	added $conf->dump.

	jeff

2002-10-02  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Include min delay into digest files.

2002-10-01  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/cookbuckets.pl: Initial import.

	# Create a histogram of bucket counts from a digest file.
	# usage: cookbuckets.pl <filename>

	May or may not end up using it but I thought I'd check it in
	before I forget about its existence.

	* /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Use u_int32_t for bucket counts.

2002-10-01  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	Added DIGESTRES stuff.

	Tolya, take a look at the owmesh.conf file for an example. (I added a
	commonname attribute to make it easier to make sense of those resolutions. I
	also differentiated the period for the plotting from the period of "saving"
	digest files.)

	jeff

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/testconf.pl:
	owmesh.conf:
		Added testing of variable reset, array append.

	testconf.pl:
		Corrected full mesh test - next, not last in the loop.

	Conf.pm:
		Added variable reset.

	jeff

2002-09-30  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/powstream/powstream.c:
	endpoint.c:
		Removed a nasty racecondition that was caused by my misunderstanding
		of how sigprocmask worked. I thought it would block even signals
		that were currently set to sig_ign, but I was wrong. Because of this
		I had to rearrange how the child sig_handlers were installed.
		(Basically, I had to install them in the parent, block the signals,
		then fork. After the fork, I reset the parents original handlers,
		and unblock the signals. The child unblocks signals and runs with
		the new sighandlers already installed by the parent.)

	powstream.c:
		Added sig checking in the loop that tries to reestablish connection
		if the control connection is broken.

	jeff

	* /home/cvs/engdev/owamp/etc/owampd.info, /home/cvs/engdev/owamp/etc/owampd.pid:
	These files are automatically created and should not be part of the
	distribution.

	jeff

2002-09-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/testconf.pl:
	owmesh.conf:
		Has an example showing 3 nodes:
			CHIN,ATLA,IPLS
	testconf.pl:
		Has a two full examples of using the node addresses.
		One is similar to the weathermap - it only deals with adj nodes.
		The other is does a full mesh of each "meshtype".

	Conf.pm:
		Huge changes - believe it or not, I believe I managed to add
		functionality, while making the code more simple, and shorter.
		(Ok - some of it is pretty criptic, but it is perl after all...)

	jeff

2002-09-28  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/livenotify.pl: Initial import.

	# This script sends time updates to a designated port on the central
	# host and manages a persistent piece of data describing a fixed
	# number of the last reboots.

2002-09-27  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/uptimewatch.pl: Initial import.

	# This script runs on the central host. It receives updates,
	# removes discovered invalid data, and updates database of
	# liveness intervals.

2002-09-26  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/testconf.pl:
	Fix arrays.

	jeff

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	Modified to use the conf module, and to use the datadir/recv_addr/send_addr
	dir structure on the node side as well.

	jeff

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	Added karp specific defaults to the conf file for an example.

	(They mimic what you had hard-coded in the nodemaster.pl script.)

	BTW - the secret stuff is broken... You will need to comment them out of
	the conf file, and just deal with the "default" one in the .pl script until
	I can fix it tomorrow. Sorry.

	jeff

2002-09-25  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl:
	Added more robustness..no reason to die if datadir not found

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl:
	Another typo..sorry, didn't get around to test

2002-09-25  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/testconf.pl:
	testconf.pl:	fbsd perl path.
	Conf.pm:
		Added error check for undefined $addr,
		Added documentation to header.

	jeff

	* /home/cvs/engdev/owamp/scripts/OWP/Conf.pm:
	Removed a large section that I had commented out during development, but forgot
	to remove.

	jeff

	* /home/cvs/engdev/owamp/scripts/owmesh.conf, /home/cvs/engdev/owamp/scripts/OWP/Conf.pm, /home/cvs/engdev/owamp/scripts/OWP.pm, /home/cvs/engdev/owamp/scripts/testconf.pl:
	initial OWP::Conf module. See the testconf.pl to see how it works.

	It should pass in an Addr and optionally a configuration directory path.

	(The testconf script uses the same directory as the testconf.pl for this.)

	I have not modified nodemaster or anything to use this...

	jeff

2002-09-25  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl: Fixed typo.

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl:
	Removed hard-coded list of receiver directories - now
	the script looks for them under the top_dir as appropriate.

	Remove the use of 'ls' and replace it by opendir/readdir/closedir

	* /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Cleaned up owdigest, added 'verbose' option for debugging
	(not set by default).. overall looks in good shape now.

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	Fixed the script and made it more robust.

2002-09-24  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/etc/owampd.info, /home/cvs/engdev/owamp/etc/owampd.passwd, /home/cvs/engdev/owamp/etc/owampd.pid:
	Quick check-in for easier distribution between nodes

2002-09-23  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	Added signal handling - SIGHUP now causes it to re-init control connections,
	TERM and INT cause it to close the connections and exit.

	jeff

2002-09-23  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	Clean-up and better diagnostics

2002-09-23  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/README: Added comments to test cvs.

	jeff

2002-09-23  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl:
	Added logging liveness reports to a database. The script
	also reads in the database contents on start-up.

	* /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/util.c, /home/cvs/engdev/I2util/I2util/Options.c, /home/cvs/engdev/I2util/I2util/table.c:
	Cosmetic changes (tiny).

2002-09-21  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Fixed a most evil bug - it only presented itself on linux and,
	to this point I still can't see why I what I had before didn't work
	(errors ranged from core dump to 'Bad mask' messages)
	Anyway, a couple of small changes fixed it - and the code looks
	slightly better too.

2002-09-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c: output lost packets.

	jeff

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/owamp/capi.c:
	Modified to use high 3 order bytes of frac_sec(32) instead of low order
	bytes. Hopefully things are consistant now.

	(Inconsistant use of this was causing packets to be sent before the start
	time.)

	also fixed a race condition in endpoint that happened if the endpoint proc
	happen to exit after its status was queried, but before it was killed.

	modified owping/owstats -V printout to use OWP_TSTAMPFMT.

	(temporarily removed file-locking from powstream because restarts in
	gdb don't free the locks. VERY ANNOYING!)

	jeff

2002-09-20  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl:
	File validation and archiving are complete now.

	--Tolya

2002-09-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/powstream/powstream.c:
	new powstream basically works.

	I need to add event handling. (cleanup on SIGINT,HUP,TERM)

	jeff

2002-09-19  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl, /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	Introduce reading of the start_time from owampd.info file
	and sending/receving pairs <start, current>. Managing the
	intervals gets a whole lot easier..

2002-09-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h:
	powstream compiles - but I have not tested at all yet. Gotta go, and wanted
	to have this check-pointed before taking off.

	jeff

2002-09-19  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/owamp/owamp.h:
	Moved commonly used macros to owamp.h.

	Have owampd write its pid and starttime to opts.confdir/owampd.pid
	and opts.confdir/owampd.info respectively.

	owampd keep read lock on owampd.pid to prevent a new incarnation
	of owampd from messing either file up.

	--Tolya

2002-09-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/owping/owping.c:
	Changed to use new ParseRecords interface.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	made ParseRecords slightly more upgradable since it will understand file
	versions to some extent now. (It now takes a OWPDataHeader structure as
	an arg.)

	modified recv process significantly:
		- Will keep socket open until lossThresh after last packet to
		ensure that it gets good data on duplicates.
		- Removed optimization that ended test early if possible. This will
		not be a problem with v5 since the owping application will set
		a very small lossThresh by default.
		- Moved the relinking of .i files to StopSession function. This
		ensures the file only gets renamed if the session was accepted.
		(we were not compliant with the spec before.)

	jeff

2002-09-18  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/api.c:
	Modified owp file read/write functions to actually do something useful.

	jeff

2002-09-18  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	The script correctly notifies the central host about
	current time now. Still need to add authentication.

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl:
	Improved main loop. Script looks for .owp files and digests
	them now. Added data structures to implemement validation
	but some more work is needed.

2002-09-17  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owdigest/config.h.in, /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Added mergesort/qsort work-around

	* /home/cvs/engdev/owamp/owdigest/Makefile:
	Removing - added by mistake.

	* /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owdigest/owdigest.c, /home/cvs/engdev/owamp/owping/owping.c:
	Moved owp_bits2prec(), and added

	double
	OWPPrecision(OWPDataRecPtr rec);

	u_int8_t
	OWPGetPrecBits(OWPDataRecPtr rec);

	into the library - applications can use them but need not know
	how they are implemented (implmentation will change when we move
	to new precision format)

	Added precision handling to owdigest.

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am:
	Add owdigest to source list.

	* /home/cvs/engdev/owamp/scripts/centralmaster.pl:
	Initial commit. Skeleton of the script to run on the central host.

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	Periodically send current time (20-char ASCII string) to the central host.

2002-09-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/Makefile.am, /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Massive changes - for all purposes, a full rewrite.

	Usage: owdigest datafile out_file

2002-09-13  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	Transfer whole dir hierarchy instead of a single dir

2002-09-12  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	First functioning version of powstream. Not yet validated - but it creates data
	that looks fairly convincing at first glance.

	Need better signal handling. (delete files on SIGINT, etc...)

	api.c:
		Added OWPSessionDuration - returns duration of a current test
		session given the SID.
	capi.c:
		Added timing info for delay_bound. Before it was only computed
		for the server side.
		Slightly modified OWPSessionRequest to give a little bit better
		information on why a test request failed. (It should perhaps be
		improved. See the TODO in the owamp.h header file.)
	owamp.h:
		declarations for above changes.
	owping.c:
		added error checking for progname. (I make the symlink the wrong
		name, and it got very confused, so I added this.)

	powstream.c:
		kinda works.

	jeff

2002-09-12  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owdigest/buckets.pl, /home/cvs/engdev/owamp/owdigest/buckets.py, /home/cvs/engdev/owamp/owdigest/Makefile, /home/cvs/engdev/owamp/owdigest/owdigest.c:
	Initial import - a suite of tools to take owamp data files
	and transform them into bucket counts. Then take files of bucket
	counts and process them further.

	owdigest.c takes on input any number of owamp data files and constructs
	           a digest of bin counts (records of the form <index, count>)

	buckets.pl is a simple exercise in reading bucket file, I am rather
	     leaning to use Python for constructing histograms - Python has
	     much better numerical support and excellent interface to gnuplot.

	buckets.py does just that - makes a histogram plot from bucket counts

2002-09-11  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/powstream/Makefile.am, /home/cvs/engdev/owamp/powstream/powstream.c, /home/cvs/engdev/owamp/powstream/powstreamP.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/endpoint.c:
	Initial version of powstream. Doesn't work yet, but I wanted to check-point
	my work.

	jeff

2002-09-09  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/owping.c:
	Adding initial version of powstream. It does not work yet, but it will compile.

	I also removed some things from conndata.

	jeff

2002-09-09  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed lost stats calculation and added precision in summary
	report. Precision is computed as the worst precision among
	individual packets - this is conservatively safe, but unfortunately
	one bad packet can now an create unduly bad impression.

2002-09-09  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed template for mkstemp. (Linux requires 6 X's.)

	jeff

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owping/owping.c:
	endpoint.c:
		removed compiler warning.

	owping.c:
		fixed usage format strings.

	jeff

2002-09-07  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Improved reporting of lost packets

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed owstats to read the header.

2002-09-06  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/localnode.c, /home/cvs/engdev/owamp/owping/localnode.h, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c:
	removed localnode stuff.
	fd's to fp's.
	Added "w" option in for debugging.

	jeff

	* /home/cvs/engdev/owamp/owampd/owampd.c: context changes.

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/time.c:
	MANY changes. Mostly cleanup, but it ended up touching lots of files.

	api.c:
		- Removed stuff from the ContextRecord.
		- Added schedule into tsession.
		- Created function for creating a SID so server/client could do it
		the same way.
		- Cleaned up the FileHeader stuff and made is all use buffered i/o.
		- Renamed FetchLocalRecords to ParseRecords and now uses buffered i/o.
	capi.c:
		- Changed the ordering of EndpointInit stuff some so that the
		schedule can be computed before the CheckTestSession Policy
		function is called. (more important for v5, but I needed the
		schedule stuff for powstream.)
		- Combined FetchSessionInfo/FetchSessionRecords into a single function
		called FetchSession - and it uses buffered i/o.
	context.c:
		- Added tsession to Endpoint functions.
		- Changed fd's to fp's.
		- Removed ctx->func_ptr indirections.
	endpoint.c:
		- fd's to fp's.
		- DataFile(read/write)
		- tsession addition
		- moved SID creation out.
		- moved rand exponent generation out.
	*.h:
		- interface changes for above.

	jeff

2002-09-06  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	The script now takes in a dirname and loops forever - matching
	'*.owp' files and trying to send them off (round-robin so as not
	to inflict starvation). Successfully transferred files are deleted
	(after md5 check, of course)

	Usage: nodemaster.pl [dirname]

	--Tolya

	* /home/cvs/engdev/owamp/scripts/nodemaster.pl:
	Initial import - this script manages uploading of new datafiles
	to the central server.

	Usage: nodemaster.pl <filename>

	--Tolya

2002-09-04  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c: Write data header (version 0)

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	The scary thing is, I had to change 10 files to take care
	of this header business (all scenarios: receiver, and both
	sides of Fetch). I believe most/all of them were necessary.

	Added function

	+/*
	** Write header to the data file.
	** XXX - for now just works for TestSpecPoissson. Assumes that <buf>
	** has at least 96 bytes (fixed-size of Poisson Session Request).
	*/
	void
	OWPEncodeDataHeader(OWPTestSpec	*test_spec,
			   u_int8_t version,
			   OWPBoolean server_conf_sender,
			   OWPBoolean server_conf_receiver,
			   struct sockaddr *sender,
			   struct sockaddr *receiver,
			   OWPSID		sid,
			   u_int8_t *buf)

	is called by Receiver (and will be called by Fetch client in version 5)

	Added a quick version (no error checks for fwrite's) of:

	/*
	** Write data header to the file. <len> is the length of the buffer -
	** any other fields have to be accounted for separately in the
	** header length value.
	*/
	+void
	+OWPWriteDataHeadeR(FILE *fp, u_int32_t version, u_int8_t *buf, u_int32_t len)

	Added 2 more args to OWPDefEndpointInitHook:

		OWPBoolean      send,
		OWPAddr         localaddr

	(but this will be unnecessary once a full Session Request is
	passed)

	Adjusted include files and calls to it everywhere to match the new interface.

	fixed sapi.c to deal with the new header

	owping doesn't write the header anymore.

	--Tolya

2002-09-03  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owdrive: Initial import.

	A Perl script to run through the data files and print records -
	some variation may be useful for OWAMP deployment on Abilene.

	--Tolya

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/owping.c:
	Added handling of lost records.

2002-08-30  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c:
	api.c:
		modified some memory allocation to use calloc instead of malloc
		for memory initialization.

		Added a rough rtt delay-bound estimate for dynamically coming
		up with reasonable defaults for start times, and end of test
		expectations.

	endpoint.c:
		modified memory allocations.

		modified recv process to optimize the end-of-test.

		modified recv process to write "lost packets" into the file.

		modified the recv process to actually make all the checks it is
		supposed to when deciding if a packet is valid.

	owamp.h:
		added some ugly timeval/timespec macros. Ok, deep down, I must really
		love macro-land...

	owampP.h:
		added delay_bound to cntrl record.

	sapi.c:
		added delay estimate.

	owping.c:
		Added from -> to into statistics banner.

		made default lossThreshold dynamic based upon rtt bound estimate.

		removed perror calls.

		fixed the -V option so it would work.

		made the start time depend upon the rtt bound estimate.


	jeff

2002-08-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Added error-checks for command-line options.

	* /home/cvs/engdev/owamp/owping/owping.c:
	Dynamically create getopt string.

2002-08-29  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	usage() now works with owping/owstats/owfetch

	* /home/cvs/engdev/owamp/owping/owpingP.h, /home/cvs/engdev/owamp/owping/owping.c:
	Implemented owping/owstats/owfetch. Will do more error checks/sanity
	checks for command line args.

	Re-did buckets set-up for percentile computation after a thorough
	discussion with Stas (previous version ignored negative delay
	values)

	--Tolya

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Added a skeleton usage() - will rework it further, though.

	Added function
	/*
	** Fetch a session with the given <sid> from the remote server.
	** It is assumed that control connection has been opened already.
	*/
	void
	owp_fetch_sid(
		      char *savefile,
		      OWPControl cntrl,
		      OWPSID sid,
		      fetch_state_ptr statep,
		      char *local,
		      char *remote
		      )

	- currently used by regular owping (when client == sender)
	but can be easily used by  owfetch. Further refactoring
	is possible and may well happen in fact.

	Currently it's not very clear how to handle the fetch
	of multiple SIDs within a single control session
	(since we have to allow for them to be saved I don't see
	how the command-line can even be parsed in this case).
	If this can be arranged then it's enough to simply
	call owp_fetch_sid() multiple times.

2002-08-27  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Reimplemented command-line options using getopt().

	Plugged in the use of file descriptors into owping.

2002-08-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Corrected scale of prec value.

	jeff

2002-08-26  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c:
	Corrected sockaddr length determination.

	jeff

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c:
	Renamed AddrByLocalControl to OWPAddrByLocalControl.

	Added fd's to library calls that create test sessions. Will add option to
	use them into owping tomorrow morning.

	owping: changed arg to OWP_LOOP to remove the unsigned <= 0 test.

	jeff

2002-08-23  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/print.c, /home/cvs/engdev/owamp/owping/owping.c:
	Added print-out for endpoints of test-sessions.
	Lines of the form

	--- owping test session from *** to *** ---

	are inserted after every 32 records
	(the stars are replaced by the actual node name(s) if known)

2002-08-23  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Changed order of args so -readfile will work.

	jeff

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Added -from and -to command line options. Both is now the default.

	Tolya - I added some really ugly prints around the session printouts so
	you can see which is the "to" and which is the "from". Something else
	would be MUCH better, but I don't want to look at it right now - I just
	added something quick so you can see it.

	To do anything better it will probably need to be integrated into your
	printing stuff. I'm thinking something that uses some kind of
	addr->addr format string in it would be really cool. Think about it.

	jeff

2002-08-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Added "-percentile" option. Takes argument between 0 and 100 (float)

2002-08-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/util.c:
	fixed some bugs in endpoint's time distribution calculation code:
		* recv didn't have sid
		* computed lasttime as an offset from current time instead of
			starttime like it should have for recv.

	jeff

2002-08-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Tiny - fixed loss percentage error.

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed formatting and alignment for -full option.

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Implemented Stas's N-reordering metric.

	I do get a little compiler warning which I cannot explain at all:


	owping.c: In function `do_single_record':
	owping.c:568: warning: comparison of unsigned expression >= 0 is always true


	Also implemented "-readfrom" option. I didn't call it "-sessionfile"
	since I still plan sooner or later doing a twin option "-writeto".

	NOTE: by default "-keepdata" is turned off. However it gets turned ON
	when used with "-readfrom" (I think this is sensible)

2002-08-21  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Added percentiles computations.

	* /home/cvs/engdev/owamp/owping/owping.c:
	Quick check-in with coredump bug fixed - thanks, efence

2002-08-20  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sapi.c:
	This bug never materialized but I just noticed it anyway -
	if open(".i") succeeds we shouldn't try opening
	complete file. Easy fix.

	* /home/cvs/engdev/owamp/owamp/sapi.c:
	Removed the ".i' warning altogether - it's not supposed to
	happen when ENOENT occurs, yet mysteriously it happens AND
	ENOENT error message gets printed ("No such file or directory").

	Investigating this would be a fun adventure into deeper secrets
	of linux but...another time maybe. The situation is completely
	benign, anyway.

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed permissions problem when fetching from remote host.

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed duplicates counting bug.

	* /home/cvs/engdev/owamp/owamp/sapi.c:
	Fixed Fetch warning messages - no need to issue them when can't open ".i"
	file (but do warn if ".i" file exists and can't be opened)

2002-08-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/protocol.c:
	Fix to ensure WriteSessionRequest is not sent if cntrl->state shows current
	state is test.

	(The test state was wrong on both sides, but it was hidden because the
	WriteSessionRequest was not properly checking if it should be allowed
	to execute.)

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c:
	fix to allow control connection to properly report failed connections if
	msgtype is invalid.

	also fix of cntrl->state to actually notice that test sessions are over.

	jeff

	* /home/cvs/engdev/owamp/owamp/capi.c:
	Fix sid not properly returned bug.

	jeff

	* /home/cvs/engdev/owamp/owping/localnode.c: fix compiler warning.

	jeff

2002-08-20  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Implemented -keepdata, -full, -quiet and -datadir options.

	Finished computing stats. Guy and Stas request a median now.
	Removed max - average and stddev will follow soon (keep for
	now as sanity check + debugging info).

2002-08-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c: Fix malloc problem.

	jeff

2002-08-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c:
	Was setting the wrong default address for the server side of the test.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c:
	forgot to 0 port after copying saddr from tcp socket causing local bind's to
	be wrong.

	Replaced some mallocs with calloc's to zero memory.

	jeff

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owping/localnode.c:
	fixed "connect" problem with bad default address being selected. Default
	test addresses are now determined by looking at the saddr of the control
	socket.

	jeff

2002-08-19  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Debugged the window so it actully works (tested small win_size)

	* /home/cvs/engdev/owamp/owping/owping.c:
	Added stats print-out. Finished window management - still need
	to add duplicate packets tracking but that will be easy now.
	Checking in while it still works :) [and my head begins to hurt!]

	Did some serious clean-up - now have few functions, each doing
	something truly useful.

2002-08-18  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sapi.c: Fixed directory path

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Re-did the window using fixed-sized array - comparable performance
	but less headaches with memory management. Added new command-line
	options - still need to incorporate them.

2002-08-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Zero out memory for robust hash lookups

2002-08-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/etc/class2limits.conf, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c:
	Fixed memory problem with endpoint functions.

	removed select returned message from server.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owping/owping.c:
	api.c: corrected uninitialized var.

	owping: check strdup return.

	jeff

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Fixed re-binding address.

	jeff

2002-08-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Fixed handling of header in data file.

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Added OWPGetDataHeader() function.

	* /home/cvs/engdev/owamp/owping/owping.c:
	owping prints ping-style results to screen - results
	are nonsense and must be debugged further but at least
	now we have something tangible to work with.

	* /home/cvs/engdev/owamp/owamp/endpoint.c: Small bug fix

2002-08-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owping/owping.c:
	client seems to be working fine as receiver.

	jeff

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	modified path functions/conndata to not need additional dynamic memory.

	jeff

2002-08-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/owping.c:
	Have application (owping) manipulate timestamp data records
	using a wrapper data structure OWPCookedDataRec.

	* /home/cvs/engdev/owamp/owping/owping.c: Minor typos

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owping/owping.c:
	Write TypeP header to file when fetching to local disk - done
	in capi.c so owping need not worry.

	Removed owp_save_to_disk from owping - have owping call
	OWPFetchSession() to get data to local disk.

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c:
	Have client process Type-P during Fetch.

2002-08-15  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/etc/owamp_secrets.conf, /home/cvs/engdev/owamp/etc/policy.conf, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/read_class2limits.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	policy changes for client. (There is a problem with the endpoint now - it can't
	write to the directory...) I'll look at it when I get back.

2002-08-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Changed OWPFetchSessions to look like this:

	OWPErrSeverity
	OWPFetchSession(OWPControl cntrl,
			u_int32_t  begin,
			u_int32_t  end,
			OWPSID	   sid,
			int        fd)

	it now fetches records from remote server and writes them
	to user-provided file descriptor.

	Removed no longer needed

	OWPFetchRecords()
	OWPCheckPadding() [part of OWPFetchSession now]

	* /home/cvs/engdev/owamp/owping/owping.c: At the high level added:

	/*
	** Retrieve records from remote server and save them in a file
	** on the local disk. No printing is done. Returns 0 on success,
	** or -1 on failure.
	*/
	int
	owp_fetch_to_local(OWPControl cntrl,
			   u_int32_t  num_rec,
			   char       *datadir,
			   OWPSID     sid);

	Added data structures and functions to support managing fetch state
	and, in particular, the window, for producing statistics.

	Streamlined output functions - there is now a master function:

	void
	owp_record_out(u_int8_t *rec, fetch_state_ptr state)

	which can be used to print records in any desired style.

	Set up conndata.datadir (user provided or else unique temporary)
	[just realized I forgot to actually do mkdir() - will add in
	 next check-in]

	* /home/cvs/engdev/owamp/owamp/sapi.c: Exclusively cosmetic changes.

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	Change opendatafile() to accept real_data_dir (which was has been set up
	in conndata) and updated the code in OWPDefEndpointInit accordingly.

	changed and moved make_data_dir() to defaults.c

	Minor cosmetic changes.

	* /home/cvs/engdev/owamp/owamp/defaults.c:
	Make owp_check_control set up the connnection's data directories.

	ATTENTION: Jeff, owp_check_control currently doesn't have
	an error handle as argument, which was ok until recent changes - but
	now it calls make_data_dir to set up data directories (and
	make_data_dir can't get an error handle either - since the caller
	doesn't have it) yet it seems that setting up data dirs is an action
	critical enough that errors must be reported somehow. I have
	for now put calls to fprintf(stderr, ..) but maybe you can
	suggest a better way. owp_check_control currently receives policy handle
	as its app_data.

	* /home/cvs/engdev/owamp/owamp/conndata.h:
	Added 'real_data_dir' and 'link_data_dir' fields to conndata.

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Added functions:

	/*
	** Given a 20-byte timestamp record, return its sequence number.
	*/
	u_int32_t
	OWPGetSeqno(u_int8_t *rec);

	/*
	** Parse the 20-byte timestamp data record for application to use.
	*/
	void
	OWPParseDataRecord(u_int8_t *rec,
			   OWPTimeStamp *send,
			   OWPTimeStamp *recv,
			   u_int32_t     *seq_no);

	/*

2002-08-14  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Removed some printing (#define VERBOSE if you want it back).

	Fixed MANY wierd isolated problems that are making me go bald and grey.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Corrected a number of protocol problems. (error detection problems as well.)

	Client side seems to be working correctly now. Server still has some strangeness
	going on. On to that next.

	jeff

	* /home/cvs/engdev/owamp/owamp/protocol.c:
	Corrected ReadControlAck to read the full two blocks instead of one. It works
	much better this way.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c:
	Added endpoint_status function so the status of a session endpoint can be
	queried.

	jeff

2002-08-12  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c:
	Set up skeleton and basic structures for Fetch - both local
	and remote.

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Changed OWPFetchRecords to more flexible interface so it
	can serve as a driver for various processing modes.
	Separated handling final 16-byte padding into a separate
	function

	OWPErrSeverity
	+OWPCheckPadding(OWPControl cntrl)

	Added new function
	/*
	** "Fetching" data from local disk - assume the header has been
	** processed already.
	*/
	OWPErrSeverity
	OWPFetchLocalRecords(int fd,
			     u_int32_t num_rec,
			     OWPDoRawDataRecord proc_rec,
			     void *app_data)


	It seems somewhat tricky (and a bit ugly) to combine it with
	OWPFetchRecords so I am thinking of just keeping them apart.

2002-08-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/io.c, /home/cvs/engdev/I2util/I2util/io.h:
	see last ci.

	jeff

2002-08-09  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h, /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/util.h, /home/cvs/engdev/I2util/Makefile.am, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	I2util:
		made random use raw io so forked processes could read from the
		same fd without problems.

		added readn/writen functions from owamp

	owamp:
		made everything use I2 versions of readn/writen

		removed get_timestamp_func from ctx - we are not using it.

		stopped forks from closing all open descriptors

	owampd/owping:

		PolicyInit was core dumping because we were calling it with
		an errhand and it was expecting a ctx... I changed the apps
		to call it with a ctx.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owamp/unixtime.h, /home/cvs/engdev/owamp/owping/owping.c:
	Cleaned up the StopSessions functions - they were a bit confused.
	Added the Wait version one.
	Corrected places where OWPErrOK was assumed to be 0 - since it isn't anymore...
	Added timeval conversion functions.
	removed unixtime.h since everything is in owamp.h and owampP.h.

	jeff

2002-08-08  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/errlog.h, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c:
	I2util: added a va_list logging function.

	owamp:
		changed the OWPError function to be a macro and removed the
		OWPErrorLine function. The I2ErrLog stuff is used by the OWPError
		macro.

	jeff

2002-08-08  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/sapi.c:
	Fully implemented server-side Fetch functionality. Added functions:

	OWPErrSeverity
	OWPProcessRetrieveSession(OWPControl cntrl);  /* top level function */
	- it calls the following ones:

	/*
	** Read records from the given descriptor and send it to the OWPControl socket.
	*/
	static OWPErrSeverity
	OWPSendFullDataFile(OWPControl cntrl, int fd,u_int32_t blksize,off_t filesize);

	/*
	** Read timestamp data records from the descriptor and count or send them
	** to Control socket depending on <type>. Error code is returned via
	** <*err_ret> and must be checked by caller. When <type> is OWP_COUNT,
	** returns the number of records within the given range (and when
	** <type> is OWP_SEND the return value can be ignored).
	*/
	static u_int32_t
	OWPProcessRecordsInRange(OWPControl      cntrl,
				 int             fd,
				 u_int32_t       begin,
				 u_int32_t       end,
				 u_int32_t       blksize,
				 off_t           rem_bytes,
				 int             type,       /* OWP_COUNT, OWP_SEND */
				 OWPErrSeverity* err_ret
	)

2002-08-08  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/errlog.h, /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/random.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/bootstrap:
	Modified the random functions to be relative to a random "context".
	Modified the OWPErr functions to exclusively use the I2Err functions.
	(The OWPErr functions are simply a wrapper around the I2Err functions -
	unfortunately they can't be macros due to the var-args...)

	This means if you want to have an application defined error function, you have
	to define the I2ErrHandler yourself, and assign it to eh in the OWPContext.

	This actually simplified things quite a bit. I would almost like to go
	through and remove all the OWPError and OWPErrLine calls and replace them
	with I2 varients - may do that later, doesn't seem worth it right now. It
	would make the __FILE__ and __LINE__ macro's cleaner.

	jeff

	* /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/errlog.h:
	Actually removed the lines of code I replaced - before they were just ifdef'd
	out.

	jeff

	* /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/errlog.h, /home/cvs/engdev/I2util/I2util/ErrLogImmediate.c, /home/cvs/engdev/I2util/I2util/errlogimmediate.h, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/errlogsyslog.h:
	Modified the I2ErrLog stuff to support a level or priority. You can
	access this by using the new I2ErrLogT(eh,level,code,fmt,...) error reporting
	macro/function.

	(You know things are good when you actually remove lines of code to add
	additional functionality.)

	jeff

2002-08-07  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/config/randomdev.m4, /home/cvs/engdev/I2util/configure.ac, /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/random.h, /home/cvs/engdev/I2util/README:
	Added an autoconfig check to ensure a kernel random device is available.

	random.h will fail to compile if autoconfig doesn't find one.

	(Don't update your local copy until I check in changes to owamp - I changed
	the RAND* macro's to have I2 at the beginning.)

	jeff

2002-08-06  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	More replacements of the last #defines - done now.

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Added defines for nodes/sessions dirsr etc

2002-08-06  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c:
	libraries are merged.

	We still need to clean the namespace, and it will probably be a good idea
	to look at some things a bit closer. I think there are some things that
	should perhaps be moved around to make them clearer. (Code review kinds of
	things.)

	jeff

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owamp/util.c:
	in the process of combining libowamp/libowpcontrib

	jeff

	* /home/cvs/engdev/owamp/owamp/print.c, /home/cvs/engdev/owamp/owamp/unixtime.c:
	Moved a number of functions from unixtime.c into owamp/time.c : renamed
	hexencode in print.c.

	jeff

2002-08-06  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c:
	Make hexencode public for use in debug functions

2002-08-06  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Added sym-link dir for all session files.

	corrected memory over-run with char * path variables.

	Added policy configuration to client side.

	Unified use of OWP_PATH_SEPARATOR.

	jeff

2002-08-06  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/print.c: Added owp_dump_msg() function

	* /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/random.h, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/owping.c:
	Added randomness source initialization support, and updated
	affected code elsewhere. The proper order of events now is:

	1. OWPContextInitialize() [calls I2RandomSourceInit()]
	2. repeated calls to I2RandomBytes() [not affected by any subsequent changes
				             in underlying randomness source]

2002-08-05  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/random.c: Tiny - forgot to add a cast

	* /home/cvs/engdev/I2util/I2util/random.c:
	Re-did I2RandomBytes to use /dev/urandom

2002-08-05  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Test sessions seem to work - owping doesn't wait for the test session to finish - but if you wait until the -datadir/SID.i file is renamed to -datadir/SID you
	do get a complete file.

	I need to modify the file-buffering some, and owping needs to be modified to
	wait for the test session to complete.

	jeff

2002-08-05  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/owping.c: Minor fix - misplaced #define

	* /home/cvs/engdev/owamp/owping/Makefile.am: Linked in math library.

	* /home/cvs/engdev/owamp/owping/owping.c:
	Implemented owping output. The master function doing the output is

	/*
	** Master output function - reads the records sent by the server
	** and prints them to the stdout in a style specified by <type>.
	** Its value is interpreted as follows:
	** 0 - print out send and recv timestamsps for each record in machine-readable
	** format;
	** 1 - print one-way delay in msec (in %.3f format) for each record,
	** and final summary (original ping style: max/avg/min/stdev) at the end.
	*/
	int
	do_records_all(OWPControl cntrl, u_int32_t num_rec, int type, FILE *fp);

	* /home/cvs/engdev/owamp/owamp/capi.c:
	Moved fetch call-back functions into owping.c. Minor fixes.

2002-08-02  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	fixed memory bugs relating to sockaddr_storage.

	jeff

2002-08-01  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/etc/ip2class.conf, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/read_class2limits.c, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owamp/unixtime.h, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	First cut at the recv/send functionality. There are definitely some problems
	still -but sessions to actually happen. (Data files don't seem to have
	everything in them I would expect yet...)

	But - I wanted to get this all checked in before I leave for my flight.

	jeff

2002-07-31  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/etc/passwd.conf: Initial import.

2002-07-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Minor - replaced bcopy by memcpy (yes, watched arg order\!)

	* /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	Added tree-traversal functions:

	/*
	** Generic type for a node-processing function.
	*/
	typedef void (*owp_node_func)(
		owp_tree_node_ptr node,   /* Node to be processed.         */
		void *data                /* Additional data to be passed. */
	);

	/*
	** Generic tree traversal function. Caller provides the node-processing
	** function <func> along with any necessary data.
	*/
	extern void
	owp_tree_iterate_df(owp_tree_node_ptr root, owp_node_func func, void *data);

	/*
	** Default function for printing node info to a given file stream
	** (to be cast as FILE* from <data>)
	*/
	extern void owp_print_node(owp_tree_node_ptr node, void *data);

	Fixed bugs with saving nodes to `class2node' hash.

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Fixed memory leaks and corrected line-counting in read_ip2class()

	* /home/cvs/engdev/owamp/etc/ip2class.conf:
	Make a valid config file so server can start without aborting

	* /home/cvs/engdev/owamp/owamp/access2.c: Minor bug fix.

2002-07-29  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c:
	This is a message for the last check-in (typed Enter too fast, sorry).
	Completely re-wrote owp_read_ip2class() - removed arbitrary restrictions
	on length of classnames along the way.

	Minor fixes elsewhere.

	* /home/cvs/engdev/owamp/etc/class2limits.conf, /home/cvs/engdev/owamp/etc/ip2class.conf, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	access2.c

2002-07-27  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/defaults.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owamp/unixtime.h, /home/cvs/engdev/owamp/owping/owping.c:
	compiles - but I have NOT tested it at ALL.

	I'm sorry tolya, but I've run out of time. I will try and do more
	 while in Boulder. (The send code is complete, but I don't have
	 the receiver code in there yet. It shouldn't be too hard, the
	 difficult timing stuff was in the sender.)

	jeff

2002-07-26  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	Fixed memory leaks from indiscriminate use of raw2datum()

	* /home/cvs/engdev/owamp/owamp/print.c: Added file banner.

	* /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owping/Makefile.am:
	Switched order of dependencies to allow use of owpcontrib/print.c

	* /home/cvs/engdev/owamp/owamp/owampP.h:
	Added prototype for owp_print_owpaddr

	* /home/cvs/engdev/owamp/owamp/print.c: Added debug functions:

	void
	owp_print_strnet(owp_access_netmask *ptr, FILE* fp);
	- prints out 'netmask struct' used by policy functions.

	void
	owp_print_netmask(const I2datum *key, FILE* fp);
	- convenience function. Prints out netmask returned as an I2datum
	from a hash look-up.

	/* Show the contents of a sockaddr struct. */
	void
	owp_print_sockaddr(struct sockaddr *sock);

	/* Show the contents of an OWPAddr struct. */
	void
	owp_print_owpaddr(FILE *fp, OWPAddr addr);

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Tiny - set policy field in conndata (NewConnection)

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Added check_test() prototype.

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Fixed policy arg to NewConnection. Installed default call-backsin cfg.

2002-07-25  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/protocol.c:
	Fixed a big with a wrong message size.

	* /home/cvs/engdev/owamp/owamp/defaults.c: Minor fixes.

	* /home/cvs/engdev/owamp/owamp/io.c:
	Simplified _OWPSendBlocks and OWPReceiveBlocks, and also enabled
	them to send/receive *any* number of blocks.

	* /home/cvs/engdev/owamp/owamp/owampP.h:
	Added prototype for _OWPReadDataHeader()

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Implmented OWPFetchRecords() using the callback function mechanism.

2002-07-24  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c: Added #ifdefs for AF_INET6

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c:
	Added functions OWPFetchSession() and OWPReadDataHeader().

2002-07-23  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/arithm64.c:
	Added OWPnum64 OWPusec2num64() function.

2002-07-23  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c:
	api.c,owampP.h,protocol.c:	modified kid to be 16 byte field.

	jeff

2002-07-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h:
	Added timespec conversions.

	* /home/cvs/engdev/I2util/I2util/table.c:
	Remove debug checks (no longer needed).

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Fixed bugs in crucial policy lookups.

	* /home/cvs/engdev/owamp/owamp/Makefile.am:
	Removed arithm128 files from sources.

	* /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h:
	Make arithmetic functions public.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h, /home/cvs/engdev/owamp/owamp/owamp.h:
	Removing arithm128_* files

	* /home/cvs/engdev/owamp/owamp/access.h.in: Added missing prototypes.

	* /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	Fixed harmless compiler warnings.

	* /home/cvs/engdev/I2util/I2util/table.c:
	Added casts to pacify compiler.

2002-07-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/conndata.h, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Made changes to use sockaddr_storage instead of dynamic memory...

	Made many other minor fixes.

	First cut at EndpointInit and EndpointInitHook - no data being sent yet - just
	dealing with process stuff so far.

	jeff

2002-07-19  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Added owp_ip_packet_size function.

	* /home/cvs/engdev/owamp/owamp/api.c:
	Minor bug fix with init values in _OWPAddrAlloc.

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	Fixed bugs in look-ups. Changed field class2limits to class2node

2002-07-18  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/conndata.h: oops - forgot semicolon

	* /home/cvs/engdev/owamp/owamp/conndata.h:
	Added 'mode' field to OWPPerConnDataRec struct.

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Minor clarifications in comments.

	* /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	Slightly changed interface to read_class2limits.

	* /home/cvs/engdev/owamp/owamp/defaults.c:
	Finished owp_check_control() and added owp_check_test()
	hook functions.

	* /home/cvs/engdev/owamp/owamp/access2.c:
	More integrity checks for config files.

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Added macros for easier access to class limits.
	Added a pointer to the root of class tree hierarchy
	to the policy struct - simplifies set-up of default
	classes for ip addresses.

2002-07-17  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/conndata.h:
	Added 'node' field for the connection class.

2002-07-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	Added consistency and integrity checks to owp_get_description()

	* /home/cvs/engdev/owamp/owamp/print.c:
	Extended print_class2node_binding to print all node fields.

	* /home/cvs/engdev/owamp/owamp/defaults.c:
	Added application-provided owp_check_control() function.

	* /home/cvs/engdev/owamp/etc/class2limits.conf:
	Slightly more interesting config.

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Added owp_sockaddr2class() function.

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Added prototypes for owp_kid2passwd() and owp_sockaddr2class() functions.
	Minor clean-up.

2002-07-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/defaults.c:
	Initial import - added owp_get_aes_key() function.

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Added owp_kid2passwd() function.

	* /home/cvs/engdev/owamp/owamp/conndata.h:
	Added policy field. Fixed typedef typo.

	* /home/cvs/engdev/owamp/owamp/access2.c: Minor fix.

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Added prototypes for new functions, and definitions for tree structures.

	* /home/cvs/engdev/owamp/owamp/print.c:
	Add function owp_print_class2node_binding() - used to see/debug
	the tree hierarchy of usage classes.

	* /home/cvs/engdev/owamp/owamp/read_class2limits.c:
	Initial import of read_class2limits.c - read the tree structure of classes,
	and their associated usage limits.

	* /home/cvs/engdev/owamp/etc/class2limits.conf:
	Example of a new class2limits format.

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Fixed lower level function to pass errors upwards instead
	of exiting. Completed processing the password file -
	owp_read_passwd_file(). Added owp_ prefix to symbols.

	* /home/cvs/engdev/I2util/I2util/table.c:
	Fixed a bug in hashatom() - it was sensitive to bytes
	outside the ones being hashed. Minor addition for easier
	debugging.

2002-07-04  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/conndata.h: Adding.

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owping/owping.c:
	Modified the app_data to be relative to a connection. It should be set with
	the data type defiend in owamp/conndata.h - which I will check in momentarily.

	This will allow each child process to request resouces from the parent process.
	(It might be a cool idea to call the policy stuff directly if pipefd is < 0.
	that way the same functions can be used from the client but we can talk
	about this when I get back.)

	Tolya, I hope this is clear to you.


	See you next week. I need to take off now.

	jeff

2002-07-03  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Fixed a number of really dumb errors on my part.

	owping will actually talk to owampd now - the test sessions are still
	non-existant, but things are moving in the right direction.

	jeff

	* /home/cvs/engdev/owamp/owping/owping.c: Fixed compiler error.

	jeff

2002-07-02  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/localnode.c, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Big changes... Too many to go through. I should not have gone so long between
	check-in's.

	Basically I think the control protocol is nearly finished. I have not actually
	tried it yet however - it is actually a little hard to test without firing off
	a test, and I have not written the udp code yet. tomorrow. The only part of
	the control protocol that is not finished is retreiving session data. The
	client can currently request the data, but the server will always deny.
	(I figured we can just look at the data on disk for now - I want to get
	actual sessions working before messing with it.)

	removed the CheckAddr func stuff.

	jeff

2002-06-25  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/print.c:
	Parsing and print-out for new design of the password file.

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/print.c:
	Added functions fetching the smallest netmask containing a given IP
	address (v4 or v6). Full print-out of ip2class hash for debugging.

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h:
	Mostly minimalistic changes or plugs just to get the program to compile so
	I could test.

	Also changed id2class to ip2class everywhere - cleaner solution in light
	of the upcoming changes to config files design.

2002-06-24  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/bc.txt, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/ques.dat:
	Added conversions OWPnum64 to/from struct timeval. Comments/clean-up.

2002-06-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owampd/owampdP.h:
	cleaned up a bit. won't compile until I add the process_requests function...

	jeff

	* /home/cvs/engdev/owamp/owamp/unixtime.c: remove warning.

	* /home/cvs/engdev/I2util/I2util/table.c: Oops - one check too many.

	jeff

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h:
	added checks to make sure table is not modified from within iterate.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	api.c: added OWPGetMode

	capi.c: remove state setting - done by protocol.c

	io.c: made readn/writen public functions

	owamp.h/owampP.h: modifed state stuff - more changes coming to address email...

	protocol.c: state stuff

	sapi.c: remove state setting

	jeff

2002-06-21  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm64.c:
	Replaced 'unsigned long long' by u_int64_t. Improved comments
	and added usage example.

	* /home/cvs/engdev/owamp/owamp/arithm64.c, /home/cvs/engdev/owamp/owamp/arithm64.h, /home/cvs/engdev/owamp/owamp/Makefile.am:
	Initial import of 32.32 arithmetic geared for use with Owamp
	timestamps. Generation of uniform and exponential random
	numbers using AES and based on 64-bit integer type.

2002-06-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/I2util/I2util/util.h:
	Tolya - I corrected some problems with the table code, and added some features.

	There was a mistake in the init function - you only used one malloc, and
	pointed the "buckets" pointer to the memory just past the I2table record.
	The problem is that there is nothing making sure that the memory just
	past the I2table record is aligned properly for pointers (the type of the
	array). There are two ways to fix this - one, add something to the end
	of the structure to ensure the next memory is aligned, or just malloc
	the buckets array seperately. (the extra malloc seemed easier, so that
	is what I did.)

	Another mistake in the init function was that you called exit. A library
	function should almost never call exit - let the calling environment
	handle the errors, just report them. In this case, it is very easy to
	just return NULL if there is a problem.

	I simplified the cmp function slightly - there was no reason to check for
	the MIN of the sizes in the bcmp (which I changed to memcmp) since you
	already know the sizes are equal or the first part of the || would have
	caused the value to be returned already. (lazy evaluation)

	In init - I reordered the primes array check for sizes so you don't have to
	have the extra 509, and the bogus INT_MAX in the array. Not really necessary,
	but I had a hard time following the logic each time I looked at it before.

	hash_close - I made it take an I2table instead of a pointer to an I2table. It
	wasn't clear to me why you had it the other way... I also removed the if
	checkes before the free'ing of the pointers. (If those pointers were NULL you
	would have core dumped from the lines before the if, because those pointers
	are dereferenced.)

	I added a hash_delete function so you can remove a key/value pair from the
	hash. (I added the iterate function earlier - you probably noticed.)

	I didn't do it, but I think it would be much cleaner to implement your hash
	printing using the hash_iterate function. Then you could take the hash_print
	function pointer out of the hash table structure. Also - you could take
	the I2binding structure out of the header file since it wouldn't be needed.

	Everything else I did was purely cosmetic - defined types for the function
	pointers and things along those lines.

	jeff

2002-06-19  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/print.c:
	Fixed bugs in IPv6 print-out.

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/print.c:
	Added print-out for Ipv4 and IPv6 cases in read_id2class

	* /home/cvs/engdev/owamp/etc/ip2class.conf, /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/print.c:
	Parser reads and prints KID part of id2class mapping (IPv4 is easy
	and I just need to add hex-encoding or reverse numeric-to-ASCII mapping
	to be able to print IPv6 part). Saving data in a hash is finished
	completely (for all three types).

	To test: similar to what was in owampd (ignoring error-checking)

	PolicyInit2(eh, ip2class, class2limits, passwd, &out);
	I2hash_print(policy->ip2class, stdout);

2002-06-18  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/print.c:
	More warnings removed

	* /home/cvs/engdev/owamp/owamp/access2.c, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/print.c:
	Fixed warnings.

	* /home/cvs/engdev/owamp/owamp/arithm128.h:
	Added prototype for OWPrand_context_free

	* /home/cvs/engdev/owamp/owamp/access2.c:
	owamp_read_id2class() understands ipv6 now.

2002-06-18  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h:
	Added I2hash_iterate function - this is similar to the "print" function, but
	allows you to specify a different function to call each time you call
	hash_iterate. It also lets you terminate the iteration by returning false
	from the function.

	jeff

2002-06-17  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Simplified logic in owamp_read_id2class().

2002-06-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Correctly recognize legal IPv4 and IPv6 masks.

2002-06-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access2.c:
	Initial import. Started work on ipv6 policy.

2002-06-14  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/util.h:
	fix for __attribute__ check... I had put it in the config.h.in file, but since
	that is dynamically generated, it didn't work too well....

	jeff

	* /home/cvs/engdev/owamp/config/c-attribute.m4:
	m4 macro for __attribute__ check...

	jeff

	* /home/cvs/engdev/owamp/configure.ac: Adding check for __attribute__.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/cprotocol.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/time.c:
	LOTS of cleanup. The owping/owampd directories may no longer compile due to
	changes here - but I really wanted to get this checked in because I have made a
	number of changes.

	Generically, one major change was that I removed the OWPByte type and replaced
	it everywhere with u_int8_t - I decided it was just easier to explicitly state
	the types we want. If /sys/types.h doesn't exist on a platform, we will need
	to figure out a reasonable byte type for that platform anyway - and we can
	just define u_int8_t ourselves for those systems.


	Makefile.am:
		added dependancy to owpcontrib library.

	api.c:
		mostly cleanup - initialization of cntrl->zero field.

	capi.c:
		Lots of misc fixes - changed the "protocol" functions that it calls.
	context.c:
		Byte change
	error.c:
		__attribute__ cleanup
	io.c:
		size_t <=> ssize_t mismatches made error reporting impossible.
		Byte changes
	owamp.h:
		changed a number of include files
		changed the prototypes for functions
		removed bit fields
		cleaned up namespace
	owampP.h:
		added __attribute__ macro test
		modified includes
		made constants more consistant
		added state constants and macros
		Byte changes
		Added OWPAcceptType
		Added all the protocol.c prototypes
	sapi.c:
		LOTS of changes to reflect that most of what was here, is now done
		in protocol.c
	time.c:
		Byte changes - memory alignment changes.

	protocol.c:
		All reads/writes specific to protocol messages is now in this
		file. Had to do a bunch of changes to fix memory alignment (easy
		to do - but had to look through everything to make sure it was
		done.) This replaced both cprotocol.c and sprotocol.c - each
		protocol message now has a read and a write function for it, and
		as little "smarts" as possible - essentially these are formatting
		functions - although I have started to put the "state" machine
		in them, because the "state" of the connection can be determined
		by the last protocol message recieved and/or sent. The "state"
		stuff is NOT currently consistant however, and needs work.

	jeff

2002-06-12  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Added OWP prefix to all symbols.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Moved all static data into context to be passed.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	More clean-up.

	* /home/cvs/engdev/owamp/owamp/arithm128.h:
	Match latest changes to arithm128.c

	* /home/cvs/engdev/owamp/owamp/arithm128.c:
	Added a chunk of the future RFC. Renamed num_128 to num128,
	num_add() to num128_add(), and num_mul() to num128_mul().
	Removed auxilliary/debug functions - much leaner file now.

2002-06-11  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c:
	Implemented timeval2num() conversion function.

	* /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h:
	Added prototype for bytes2Key().

2002-06-10  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/config/c-attribute.m4, /home/cvs/engdev/I2util/configure.ac, /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/errlog.h, /home/cvs/engdev/I2util/I2util/ErrLogImmediate.c, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/Options.c, /home/cvs/engdev/I2util/I2util/Pthread.h, /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/random.h, /home/cvs/engdev/I2util/I2util/table.c:
	Removed compiler warnings.

	jeff

2002-06-10  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Removed leftshift() and mask arrays. Lots of overall improvements.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Put in fixes to make code work on machines with any size of long
	and short. Added 128-bit counter for generator of uniforms.

2002-06-09  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	More reorganization and clean-up. Keep currently unused functions
	static. Fixed a subtle bug in mask2 (hitting once every 256 times).
	This version of exponential generator finally is in excellent
	agreement with Anderson-Darling critical values.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Removed more unneeded code. Completely changed the interface to
	match srand()/rand() approach.

2002-06-08  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Separated left shift into a separate function. Fixed many compiler
	warnings.

2002-06-07  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c:
	Clean-up. Removed unnecessary comments.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h:
	Added 128-bit counters.

	* /home/cvs/engdev/owamp/owamp/arithm128.c:
	Improved precision in the 64th bit of Q[].

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h:
	Quick check-in - fixed reuse of uniforms.

2002-06-06  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sapi.c, /home/cvs/engdev/owamp/owamp/sprotocol.c, /home/cvs/engdev/owamp/owping/owping.c:
	substaintial reorganization of the server code. I'm not done yet, but I wanted
	to check in to check-point the work.

	(This version compiles, but will definately not work.)

	jeff

2002-06-06  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Algorithm is largely working - checking in for safety's sake.

	* /home/cvs/engdev/owamp/owamp/arithm128.c:
	Corrected small bugs - more work is needed.

2002-06-05  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/exponential.c, /home/cvs/engdev/owamp/owamp/exponential.h:
	Not needed anymore - implemented Knuth at home.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Essentially completed implementation of Knuth. Untested so far.

2002-06-04  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c:
	Added support for counter mode.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Started working on Knuth algorithm.

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/owamp.h:
	Tiny bug - updated arithm128 dependence.

	* /home/cvs/engdev/owamp/owamp/Makefile.am:
	Replaced arithm* with arithm128* source files.

	* /home/cvs/engdev/owamp/owamp/arithm.c, /home/cvs/engdev/owamp/owamp/arithm.h:
	Renamed and improved into arithm128*

	* /home/cvs/engdev/owamp/owamp/arithm128.c, /home/cvs/engdev/owamp/owamp/arithm128.h:
	Clean-up and better documentation. Renamed the file into arithm128*.{c,h}

2002-06-03  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/arithm.c, /home/cvs/engdev/owamp/owamp/arithm.h:
	Various improvements. Added more conversion functions.

	* /home/cvs/engdev/owamp/owamp/arithm.c: Added conversion functions.

2002-06-02  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/I2util/random.c, /home/cvs/engdev/I2util/I2util/random.h, /home/cvs/engdev/I2util/I2util/util.h, /home/cvs/engdev/I2util/Makefile.am, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/arithm.c, /home/cvs/engdev/owamp/owamp/arithm.h, /home/cvs/engdev/owamp/owamp/capi.c, /home/cvs/engdev/owamp/owamp/cprotocol.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/random.c, /home/cvs/engdev/owamp/owamp/sapi.c:
	Reorganizing things...

	Tolya - when you create new files please put a $Id$ comment header at the
	beginning of the file. (I don't really care that much if you use the comment
	script, but I really want the version number in there - it makes it much easier
	to determin how out-of-date printout's are.)

	Also - I moved your arithmatic out of I2util and put it into owamp - it is
	difficult to imagine something more specific to owamp. I2util is for code
	that is likely to be used for projects completely unrelated to owamp.

	I'm thinking more and more about rolling all the owpcontrib code right into
	the owamp directory, but I decided to leave it alone for now. Let me know
	if you have opionions one way or the other about it.

	Oh - I also broke up api.c into 3 files:
	api.c
	capi.c
	sapi.c

	api.c contains functions that are used by capi.c and sapi.c. capi.c is client
	api functions and sapi.c is server api functions.

	Now that I've reorganized the code to more easily digestable chunks, I'm going
	to start taking some of the code from owampd and putting it in sapi.c, and
	extending it to actually start test sessions.

	(I probably won't get enough done today to check in again today - in fact,
	considering what I will be doing, it will probably be a few days before I
	check-in again.)

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/cprotocol.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/time.c, /home/cvs/engdev/owamp/owping/owping.c:
	This version of owping/owampd will go all the way through making a test request
	to the server. The server will just print out that a request happened.

	owamp/
	Makefile.am:
		adding time.c: functions for encoding/decoding struct timestamps
		to the format required for network transmittion.
	api.c:
		Corrected default address mechanisms in NodeByAddr and related...

	context.c:
		Corrected callendpointinithook function.

	cprotocol.c:
		Added function that encodes TestRequests, and reads AcceptSession
		messages.

	endpoint.c:
		Forgot to set the end_data_ret pointer in the init func...

	io.c:
		Corrected the type used to return the value from the OWPReadn
		function - it was unable to detect an error condition.

	owamp.h:
		Renamed OWPPoissonTestSpec to OWPTestSpecPoisson - names should
		go from general to specific, so the "family" of the type can
		be seen immediately.

	owampP.h:
		Added time.c prototypes.

	owampd/
	owampd.c:
		#ifdef'd out problem hiding things. (Problems from children were
		being printed to a file instead of being seen in stderr where they
		would be noticed. And removed the "exit" - so the server would
		actually read a request.

	owping/
	owping.c:
		Added a "flush" for stderr because some error messages were getting
		lost. (I may remove this later - the error messages are showing now,
		but stderr should automatically be line buffered, so I need to
		figure out what is going on here...)
		Also modified how the "addr" code is called to reflect the corrections
		mentioned above in api.c.

2002-05-31  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/I2util/util.h:
	Added support for arithmetic functions.

	* /home/cvs/engdev/owamp/owamp/arithm.c, /home/cvs/engdev/owamp/owamp/arithm.h:
	Initial import - implementation of 128-bit arithmetic.

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Fix to make things compile.

2002-05-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Bulk check-in to have a common base.

2002-05-29  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/endpoint.c, /home/cvs/engdev/owamp/owamp/endpoint.h, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	Added endpoint logic - the "meat" is not there yet.

	owping currently core dumps because it passes in null addresses - I will
	fix it tomorrow.

	jeff

2002-05-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/cprotocol.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owping/owping.c:
	api.c:
		All the logic for making a test request - still need to fill in
		the details for local endpoints.
	context.c:
		Modified the Policy functions a bit.
	cprotocol.c:
		Started the stub for sending a test request to the server - will have
		it use the same structure Tolya is using to parse the request once
		he checks it in.
	io.c:
		Added connect_tmout function.
	owamp.h:
		modified addr structure prototype to include port.
	owampP.h:
		added prototypes for context.c
	owampd.c:
		Modified calls to functions I had changed.
	owping.c:
		ditto

	jeff

2002-05-24  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Minor bug fixes and clean-up. Added some error checks.

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Improved handling of EINTR in select().

2002-05-23  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Child is ready for testing Control session now. Server can simply
	be started from command line by typing:

	./owampd

	(it will bind to port 5555 and begin accepting connections.
	Will Control part work? I don't know yet.)

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Parent correctly manages fd_set now.

2002-05-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Fixed a bug in OWPServerReadRequest().

2002-05-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c: Oops - typo already....

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c:
	Added ability to specify nodenames with rfc2396/rfc2732 service specifiers.
	(i.e. "node:service" syntax.)

	jeff

2002-05-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Rewrote server skeleton to make use of parent-child communication
	via pipes. The code is still quite raw, and much needs to be
	improved.

2002-05-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owampP.h: Adding port to Addr struct.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	moved connect_tmout to io.c and renamed _OWPConnect - modified port number
	for control to 5555.

	jeff

2002-05-21  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c:
	Minor clean-up. Sorted out _OWPCallCheckControlPolicy() call.

	Doesn't compile yet due to timevalclear and others...

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Added OWP_ prefix to OPEN_CLASS, AUTH_CLASS and BANNED_CLASS

2002-05-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/error.c:
	api.c
		fixed bug in ClientConnect code.
	error.c
		fixed bug in sizeof buffer args - caused error messages to be corrupt.

	jeff

	* /home/cvs/engdev/owamp/bootstrap, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/api.c:
	bootstrap:
		add call to configure

	owamp/api.c
		fixed connect_tmout - I will probably move this function to
		io once I'm sure it all compiles.

	owpcontrib/access.h.in
		Added default value for OWP_PREFIX to headerfile.

	jeff

2002-05-20  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Fixed location of parentheses.

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Improved check_control() function. Cleaner logic in read/process request
	loop (as discussed on the way to Ben).

	* /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Clean-up. Removed unused functions OWPSendServerGreeting and others.

	* /home/cvs/engdev/owamp/owamp/owamp.h:
	Added #defines for OWP_CTRL_* Control protocol message types,
	and prototype for OWPServerReadRequest().

	* /home/cvs/engdev/owamp/owamp/api.c:
	Added robustness to OWPControlAccept().

2002-05-18  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Some clean-up of things not being used right now.

	Bug fixes in owamp_first_check(), fixed check_control() prototype.

	Fixed a bug with the number of args in OWPServerCheckAddrPolicy(... NULL...)
	which caused me some core dumps and torturous debugging. Wouldn't happen
	if I had put a prototype in owamp.h (grrrrr) -
	thanks for the lesson, Jeff! -:)

	* /home/cvs/engdev/owamp/owamp/owamp.h:
	Added prototypes for OWPGetContext() and OWPServerCheckAddrPolicy().

2002-05-17  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/cprotocol.c, /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/sprotocol.c, /home/cvs/engdev/owamp/owping/localnode.c, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	check-point last week of work.

	jeff

2002-05-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/unixtime.c, /home/cvs/engdev/owamp/owamp/unixtime.h:
	Fix for conf_dir and adding gettimeofday interface.

	jeff

2002-05-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Commented out _OWPSendServerGreeting and _OWPReadServerGreeting

	* /home/cvs/engdev/owamp/owamp/api.c:
	Incorporated removal of challenge field from OWPControl.

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Quick check-in while everything still compiles.

2002-05-14  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/context.c:
	Replaced OWPContext by OWPControl argument in _OWPCallCheckTestPolicy().

	* /home/cvs/engdev/owamp/owamp/bc.txt:
	Simple bc script to compute Q[] series from Knuth algorithm.

	* /home/cvs/engdev/owamp/owamp/ques.dat:
	Computed hex-encoded Q[] values for Knuth S algorithm.

2002-05-11  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c:
	I believe a full build will not work.

	Tolya - I ifdef'd out ControlAccept since it isn't compiling right now. I'll
	let you correct the problmes and add it back in.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c: Corrected a few bugs.

	jeff

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	Renaming contrib to owpcontrib.

	Modified the OWP_CONF_DIR flag to be set relative to a "prefix" that is set
	as autoconf normally would. - this took renaming access.h to access.h.in and
	having autoconf parse it and make changes.

	api.c:
	Added a connect_tmout to api.c

	Corrected logic for CheckControlPolicy checks.

	owping:
	A bit more - won't currently compile.

	jeff

2002-05-10  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c:
	Removed OWPAddrCheck() - not needed.

2002-05-08  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/exponential.c, /home/cvs/engdev/owamp/owamp/exponential.h:
	Implementation of uniform and exponential distributions following
	the original Marsaglia-Ahrens (1972) algorithm as described in
	Knuth (1998), with latest improvements. Culled from the libranlib
	C library for random number generators.

	Usage: float genexp(float mu);

	will generate successive draws from exponential distribution
	with mean mu. (I've just generated 200 of those and visually it
	looks good).

	Current implementation is using made on-the-spot uniform draws.
	Alternative is to use system-provided random() to get the
	uniform deviates as input for the algorithm.

2002-05-03  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Some clean-up. Removed policy init into a separate function.

	* /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Added prototypes and main loop inside Control session.

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Add typedef for policy_data.

	* /home/cvs/engdev/owamp/owamp/print.c:
	Initial import for print.c - basic hash print-out functions
	are isolated there.

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owampd/Makefile.am:
	This allows applications (owampd for now) access config directory as
	OWP_CONF_DIR. Temporary solution, hopefully to be replaced using
	autoheader.

	Jeff, I did some reading on AC_CONFIG_HEADER but I am still
	not comfortable using it. I don't want to spend too much time
	on it - I am making this commit just so I can get on with
	the rest of the server.

	--Tolya

2002-05-02  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/localaddr.c, /home/cvs/engdev/owamp/owping/localaddr.h, /home/cvs/engdev/owamp/owping/localnode.c, /home/cvs/engdev/owamp/owping/localnode.h, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	My changes now compile.

	I added some dependency stuff to the Makefile.am in owping.

	tolya - that same dependency stuff might be useful in owampd...

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owping/localaddr.c, /home/cvs/engdev/owamp/owping/localaddr.h, /home/cvs/engdev/owamp/owping/owping.c:
	Removing kid - and updating owping to latest. Don't update until after my next
	check-in, I still need to verify compilation.

	jeff

2002-05-01  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/io.c:
	Not need to update IV as this is done in rijndael api now. Added banner.

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Update owampd skeleton to have things compile.

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/sprotocol.c:
	sprotocol.c

	* /home/cvs/engdev/owamp/owamp/io.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c:
	Fixed rijndael API to update IV automatically during blockEncrypt/
	blockDecrypt so that libowamp (_OWPEncryptBlocks and _OWPDecryptBlocks)
	need not worry about it at all.

2002-04-30  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c:
	reverse if test to make more clear.

	jeff

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	owping will compile now. Because the configure.ac file changed - you need
	to ./bootstrap after updating to this.

	jeff

2002-04-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Updated to make use of latest additions to the api.

2002-04-30  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owping/Makefile.am:
	forgot to add owpingP.h as source file...

	jeff

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/owamp/owping/localaddr.c, /home/cvs/engdev/owamp/owping/localaddr.h, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c, /home/cvs/engdev/owamp/owping/owpingP.h:
	owping first real check-in. Not real functional, but at least gives an
	outline. Does not implement policy hooks yet. (Should be able to use exact
	same ones as owampd after cleanup.)

	I2util/I2util/
		table.c:made sure default compare function doesn't overrun memory.

	owping/
	Makefile.am:	added localaddr template - still working on code.
	owping.c:	organized.
	localaddr.[ch]	localaddr template.
	owpingP.h:	typedefs for owping.

	jeff

2002-04-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h:
	Removed unused code.

	* /home/cvs/engdev/owamp/owamp/owampP.h:
	Replaced old key field by encrypt_key and decrypt_key in OWPControlRec.

	* /home/cvs/engdev/owamp/owamp/io.c: Removed send_blocks().

	Added 	_OWPSendBlocks(OWPControl cntrl, char* buf, int num_blocks),
		_OWPReceiveBlocks(OWPControl cntrl, char* buf, int num_blocks),
		_OWPEncryptBlocks(OWPControl cntrl,char *buf,int num_blocks,char *out)
		_OWPDecryptBlocks(OWPControl cntrl,char *buf,int num_blocks,char *out)

	* /home/cvs/engdev/owamp/owamp/api.c:
	Added _OWPMakeKey(OWPControl cntrl, OWPByte *binKey),
		OWPEncryptToken(char *binKey, char *token_in, char *token_out),
		OWPDecryptToken(char *binKey, char *token_in, char *token_out).

	Minor clean-up.

2002-04-30  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c: wrong include syntax.

	jeff

	* /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owampd/Makefile.am, /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/owping/owping.c:
	Removed references to old table symbols are replaced them with I2hash_init
	etc...

	(I need to verify this compiles on a system up there - so expect another ci
	shortly.)

	I also changed the table code to use the I2ErrLog stuff instead of OWPError.

	Tolya - I think it would be much cleaner to remove the hash functions from
	owampd - and put them all into access.[ch]. I don't see any reason why
	owamp_read_ip2class, owamp_read_class2limits, and read_passwd_file couldn't
	call I2hash_init themselves and return the hash_table as the return value of
	the function. You could still call I2hash_print for debugging purposes - but
	the code could be much cleaner this way. What do you think?

	jeff

2002-04-29  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/I2util/Options.c, /home/cvs/engdev/I2util/I2util/options.h, /home/cvs/engdev/I2util/I2util/table.c, /home/cvs/engdev/I2util/I2util/table.h, /home/cvs/engdev/I2util/I2util/util.h, /home/cvs/engdev/I2util/Makefile.am:
	Adding Tolya's hash table into the I2util library. Modified the symbols to
	start with I2.

	Makefile.am:
		added table.h as installable.

	ErrLog.c:
		Corrected comment.

	I2util/

	Makefile.am:
		added table.c source.

	Options.c,options.h:
		Added stringtoUint converter.
		Made stringtoint converter use strtol instead of less predictable sscanf
		Corrected arg printing routine to deal with varargs.
	util.h:
		added include of table.h

2002-04-26  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/I2util/Options.c, /home/cvs/engdev/I2util/I2util/options.h:
	Adding ability for an -option to take variable args after it.

	i.e. owping -sender sendaddr [sendserv]

	In this example 1 or 2 args. To do this - the arg description lists the max
	number of args it will take - and it specifies it as a negative number
	in the description record.

	This library will eventually have to be documented to some extent - I'm
	hoping doxygen is easy...

	jeff

	* /home/cvs/engdev/owamp/configure.ac:
	Adding options to link in I2util from owamp directories.

	jeff

2002-04-26  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c:
	Remove unnneded field-setting functions.

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h:
	Trimmed down rijndael api, keeping only what's necessary.

	* /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Changed OWPAESGetKeyFunc prototype to use OWPByte* key_ret.

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Removed send_data and OWPServerOK

	* /home/cvs/engdev/owamp/owamp/random.c: Minor typo corrected.

	* /home/cvs/engdev/owamp/owamp/sprotocol.c:
	Added _OWPSendServerGreeting(), _OWPReadClientGreeting() and _OWPServerOK().

	* /home/cvs/engdev/owamp/owamp/io.c: Started work on block IO.

	* /home/cvs/engdev/owamp/owamp/api.c:
	Broke down OWPControlAccept() into protocol-driven pieces.

2002-04-25  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c:
	fix double alloc bug - clean up error handling in client_connect and client_open.

	jeff

	* /home/cvs/engdev/owamp/owamp/rijndael-test-fst.c:
	test code - needs work before it can be added to build process.

	jeff

2002-04-25  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c: (Re)moved random_bytes().

	* /home/cvs/engdev/owamp/owamp/Makefile.am:
	Added random.c to the source files list.

	* /home/cvs/engdev/owamp/owamp/random.c: Initial import.

2002-04-25  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/bootstrap, /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/Makefile.am:
	Added support to build sub-package I2util.

	jeff

2002-04-25  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/sprotocol.c: Initial import.

	* /home/cvs/engdev/owamp/owamp/owamp.h: Removed OWPKey

	* /home/cvs/engdev/owamp/owamp/api.c:
	Added prototype for random_bytes()

	* /home/cvs/engdev/owamp/owampd/owampd.c, /home/cvs/engdev/owamp/owamp/api.c:
	Moved random_bytes from owampd.c to api.c

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Fake commit - botched putting proper log message for the last one.
	In the last one: got rid of doit() and started breaking up its
	code into OWP* functions. Re-did main() to make more consistent
	use of these functions.

	* /home/cvs/engdev/owamp/owampd/owampd.c: *** empty log message ***

	* /home/cvs/engdev/owamp/owamp/owampP.h: Got rid of OWPKey.

	* /home/cvs/engdev/owamp/owamp/owamp.h:
	Fixed prototype for OWPControlAccept().

	* /home/cvs/engdev/owamp/owamp/context.c: Got rid of OWPKey.

	* /home/cvs/engdev/owamp/owamp/api.c:
	Replaced OWPKey by OWPByte[16] everywhere. Started redoing OWPControlAccept() -
	not finished yet. Added OWPAddrCheck().

	* /home/cvs/engdev/owamp/owamp/Makefile.am:
	Added sprotocol.c to the sources list.

2002-04-24  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/bootstrap, /home/cvs/engdev/I2util/config/Make-rules, /home/cvs/engdev/I2util/configure.ac, /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/mach_dep.c, /home/cvs/engdev/I2util/I2util/mach_dep.h, /home/cvs/engdev/I2util/I2util/Makefile.am, /home/cvs/engdev/I2util/I2util/options.h, /home/cvs/engdev/I2util/I2util/Pthread.h, /home/cvs/engdev/I2util/I2util/util.h, /home/cvs/engdev/I2util/Makefile.am:
	Build for libI2util.a

	jeff

	* /home/cvs/engdev/I2util/I2util/mach_dep.c: Adding mach dep code.

	jeff

2002-04-24  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Removed a lot server code to be placed in OWPControlAccept.

	* /home/cvs/engdev/owamp/owamp/owamp.h:
	Added prototype for OWPControlAccept().

	* /home/cvs/engdev/owamp/owamp/api.c:
	Started work on OWPControlAccept().

2002-04-23  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/I2util/README:
	Beginnings of a utility library. I don't have build files for it yet - tomorrow.

	jeff

	* /home/cvs/engdev/I2util/I2util/ErrLog.c, /home/cvs/engdev/I2util/I2util/errlog.h, /home/cvs/engdev/I2util/I2util/ErrLogImmediate.c, /home/cvs/engdev/I2util/I2util/errlogimmediate.h, /home/cvs/engdev/I2util/I2util/ErrLogSyslog.c, /home/cvs/engdev/I2util/I2util/errlogsyslog.h, /home/cvs/engdev/I2util/I2util/Options.c, /home/cvs/engdev/I2util/I2util/options.h, /home/cvs/engdev/I2util/I2util/optionsP.h, /home/cvs/engdev/I2util/I2util/Pthread.c, /home/cvs/engdev/I2util/I2util/Pthread.h, /home/cvs/engdev/I2util/I2util/util.h:
	import of until library.

	Based on a utility library distributed with the "volsh" code from UCAR.

		http://www.scd.ucar.edu/vets/vg/Software/volsh

	I have used this in the past - and it seemed silly not to use it since it
	is freely distributed.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owping/Makefile.am:
	This version compiles.

	jeff

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/cprotocol.c, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c, /home/cvs/engdev/owamp/owamp/rijndael-alg-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c:
	check-point files: COMPILE NOT TESTED YET - don't update to these.

	jeff

2002-04-23  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h.in, /home/cvs/engdev/owamp/owampd/owampd.c:
	Some clean-up - pass hash and Context pointers as function arguments.

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Largely finished Control connection set-up.

	* /home/cvs/engdev/owamp/owamp/api.c:
	Added function to set writeIV, readIV and session_key in OWPControl.

	* /home/cvs/engdev/owamp/owamp/owampP.h:
	Changed writeIV, readIV, challenge and session_key types to unsigned char.

	* /home/cvs/engdev/owamp/owamp/Makefile.am: Added io.c

2002-04-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owampP.h:
	Changed readIV/writeIV types for smooth interaction with rijndael API.

2002-04-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owampP.h: Modified fields.

	jeff

2002-04-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Moved readn() and writen() to owamp/io.c

	* /home/cvs/engdev/owamp/owamp/io.c: Initial import.

2002-04-20  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Completely re-did printing out of hash tables.

	* /home/cvs/engdev/owamp/owping/owping.c:
	Initial import. Trivial main().

	* /home/cvs/engdev/owamp/owping/Makefile.am:
	Added owping.c to the list of source files.

2002-04-19  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Updated to use home-made hash instead of ndbm.

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Changed to use home-made hash instead of ndbm.

2002-04-18  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/Makefile.am:
	Adding rijndael functions into libowamp.a

	jeff

	* /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/owamp/owampP.h:
	Adding checks into the code for problems found at "configure" time.

	jeff

2002-04-17  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/Makefile.am:
	moved test-hash back to contrib where it should have been.

	jeff

	* /home/cvs/engdev/owamp/owampd/Makefile.am:
	Errg - sometime cvs is annoying.

	jeff

	* /home/cvs/engdev/owamp/bootstrap, /home/cvs/engdev/owamp/configure.ac, /home/cvs/engdev/owamp/design/decisions, /home/cvs/engdev/owamp/Makefile.am, /home/cvs/engdev/owamp/owamp/Makefile.am, /home/cvs/engdev/owamp/owping/Makefile.am, /home/cvs/engdev/owamp/README:
	first cut and using gnu autobuild tools.

	jeff

2002-04-17  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owampd/owampd.c:
	Updated to use ../owamp instead of ../libowamp.

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Now that we have owamp.h don't need home-made defines anymore.

	* /home/cvs/engdev/owamp/owampd/owampd.c: Initial import.

2002-04-16  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Added syslog support, changed field name in owamp_limits

	* /home/cvs/engdev/owamp/owamp/api.c:
	Commented out a few little bits and added two stubs to make compile.

2002-04-16  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owamp.h: Fix func pointers.

	jeff

2002-04-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/Doxyfile: Changed EXTRACT_ALL to NO.

	* /home/cvs/engdev/owamp/Doxyfile:
	Exclude test patterns. Separate sources from comments.

	* /home/cvs/engdev/owamp/Doxyfile: Initial import.

	* /home/cvs/engdev/owamp/owamp/owamp.h:
	Included <sys/time.h> and <sys/param.h>

2002-04-15  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h, /home/cvs/engdev/owamp/owamp/protocol.c:
	check-point - this at least compiles.

	jeff

2002-04-15  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/table.128, /home/cvs/engdev/owamp/etc/class2limits.conf, /home/cvs/engdev/owamp/etc/ip2class.conf, /home/cvs/engdev/owamp/etc/owamp_secrets.conf, /home/cvs/engdev/owamp/etc/policy.conf:
	Initial import.

	* /home/cvs/engdev/owamp/owamp/rijndael-alg-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-alg-fst.h, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.c, /home/cvs/engdev/owamp/owamp/rijndael-api-fst.h:
	Initial import for rijndael.

2002-04-14  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h.in: Major rewrite.

2002-04-12  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/context.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/protocol.c:
	check-point.

	jeff

	* /home/cvs/engdev/owamp/owamp/owampP.h: Add a few new fields...

	jeff

2002-04-04  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	Not completely consistant at the moment - but I wanted to check-in anyway since
	I won't be able to look at this for a few days.

	jeff

2002-04-01  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/api.c, /home/cvs/engdev/owamp/owamp/error.c, /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	just checking in for backup purposes.

	jeff

2002-03-31  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h.in:
	Added dbm, open, and assert support

	* /home/cvs/engdev/owamp/owamp/access.h.in: Added fcntl header file.

2002-03-30  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/access.h.in: Initial import

2002-03-28  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owamp.h: OWAMPKey

	jeff

	* /home/cvs/engdev/owamp/owamp/owampP.h: change copywrite

	jeff

	* /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	Next revision...

	jeff

2002-03-22  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	next round.

2002-03-22  karp  <karp@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owamp.h:
	Added and clarified some api docs. Corrected name mismatches

2002-03-21  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owampP.h: Command-line vim is working!

	* /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	*** empty log message ***

2002-03-20  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/owamp/owamp.h, /home/cvs/engdev/owamp/owamp/owampP.h:
	*** empty log message ***

2002-03-19  Jeff W. Boote  <boote@ellis.internet2.edu>

	* /home/cvs/engdev/owamp/design/control_flow, /home/cvs/engdev/owamp/design/decisions:
	Initial design docs.

	* /home/cvs/engdev/owamp/design/api_design, /home/cvs/engdev/owamp/design/usage_scenerios:
	Adding initial design docs to owamp.

	jeff

